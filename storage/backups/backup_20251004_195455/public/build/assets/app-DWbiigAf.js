function Ba(t,e){return function(){return t.apply(e,arguments)}}const{toString:Vf}=Object.prototype,{getPrototypeOf:fs}=Object,{iterator:Fr,toStringTag:Fa}=Symbol,zr=(t=>e=>{const n=Vf.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$e=t=>(t=t.toLowerCase(),e=>zr(e)===t),$r=t=>e=>typeof e===t,{isArray:an}=Array,en=$r("undefined");function Ln(t){return t!==null&&!en(t)&&t.constructor!==null&&!en(t.constructor)&&Se(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const za=$e("ArrayBuffer");function Gf(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&za(t.buffer),e}const Xf=$r("string"),Se=$r("function"),$a=$r("number"),Bn=t=>t!==null&&typeof t=="object",Zf=t=>t===!0||t===!1,dr=t=>{if(zr(t)!=="object")return!1;const e=fs(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Fa in t)&&!(Fr in t)},Yf=t=>{if(!Bn(t)||Ln(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Qf=$e("Date"),ed=$e("File"),td=$e("Blob"),nd=$e("FileList"),rd=t=>Bn(t)&&Se(t.pipe),id=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Se(t.append)&&((e=zr(t))==="formdata"||e==="object"&&Se(t.toString)&&t.toString()==="[object FormData]"))},sd=$e("URLSearchParams"),[od,ad,ld,cd]=["ReadableStream","Request","Response","Headers"].map($e),ud=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),an(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Ln(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Ua(t,e){if(Ln(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const St=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ja=t=>!en(t)&&t!==St;function Mi(){const{caseless:t,skipUndefined:e}=ja(this)&&this||{},n={},r=(i,s)=>{const o=t&&Ua(n,s)||s;dr(n[o])&&dr(i)?n[o]=Mi(n[o],i):dr(i)?n[o]=Mi({},i):an(i)?n[o]=i.slice():(!e||!en(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Fn(arguments[i],r);return n}const fd=(t,e,n,{allOwnKeys:r}={})=>(Fn(e,(i,s)=>{n&&Se(i)?t[s]=Ba(i,n):t[s]=i},{allOwnKeys:r}),t),dd=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pd=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hd=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&fs(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},md=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},gd=t=>{if(!t)return null;if(an(t))return t;let e=t.length;if(!$a(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},bd=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fs(Uint8Array)),yd=(t,e)=>{const r=(t&&t[Fr]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},xd=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Ed=$e("HTMLFormElement"),wd=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),bo=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_d=$e("RegExp"),Ha=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Fn(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Sd=t=>{Ha(t,(e,n)=>{if(Se(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Se(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kd=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return an(t)?r(t):r(String(t).split(e)),n},vd=()=>{},Cd=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Td(t){return!!(t&&Se(t.append)&&t[Fa]==="FormData"&&t[Fr])}const Od=t=>{const e=new Array(10),n=(r,i)=>{if(Bn(r)){if(e.indexOf(r)>=0)return;if(Ln(r))return r;if(!("toJSON"in r)){e[i]=r;const s=an(r)?[]:{};return Fn(r,(o,a)=>{const l=n(o,i+1);!en(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Ad=$e("AsyncFunction"),Md=t=>t&&(Bn(t)||Se(t))&&Se(t.then)&&Se(t.catch),Wa=((t,e)=>t?setImmediate:e?((n,r)=>(St.addEventListener("message",({source:i,data:s})=>{i===St&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),St.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Se(St.postMessage)),Nd=typeof queueMicrotask<"u"?queueMicrotask.bind(St):typeof process<"u"&&process.nextTick||Wa,Rd=t=>t!=null&&Se(t[Fr]),y={isArray:an,isArrayBuffer:za,isBuffer:Ln,isFormData:id,isArrayBufferView:Gf,isString:Xf,isNumber:$a,isBoolean:Zf,isObject:Bn,isPlainObject:dr,isEmptyObject:Yf,isReadableStream:od,isRequest:ad,isResponse:ld,isHeaders:cd,isUndefined:en,isDate:Qf,isFile:ed,isBlob:td,isRegExp:_d,isFunction:Se,isStream:rd,isURLSearchParams:sd,isTypedArray:bd,isFileList:nd,forEach:Fn,merge:Mi,extend:fd,trim:ud,stripBOM:dd,inherits:pd,toFlatObject:hd,kindOf:zr,kindOfTest:$e,endsWith:md,toArray:gd,forEachEntry:yd,matchAll:xd,isHTMLForm:Ed,hasOwnProperty:bo,hasOwnProp:bo,reduceDescriptors:Ha,freezeMethods:Sd,toObjectSet:kd,toCamelCase:wd,noop:vd,toFiniteNumber:Cd,findKey:Ua,global:St,isContextDefined:ja,isSpecCompliantForm:Td,toJSONObject:Od,isAsyncFn:Ad,isThenable:Md,setImmediate:Wa,asap:Nd,isIterable:Rd};function $(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}y.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const Ka=$.prototype,qa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qa[t]={value:t}});Object.defineProperties($,qa);Object.defineProperty(Ka,"isAxiosError",{value:!0});$.from=(t,e,n,r,i,s)=>{const o=Object.create(Ka);y.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return $.call(o,a,l,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const Id=null;function Ni(t){return y.isPlainObject(t)||y.isArray(t)}function Ja(t){return y.endsWith(t,"[]")?t.slice(0,-2):t}function yo(t,e,n){return t?t.concat(e).map(function(i,s){return i=Ja(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Dd(t){return y.isArray(t)&&!t.some(Ni)}const Pd=y.toFlatObject(y,{},null,function(e){return/^is[A-Z]/.test(e)});function Ur(t,e,n){if(!y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,m){return!y.isUndefined(m[b])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(e);if(!y.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(y.isDate(h))return h.toISOString();if(y.isBoolean(h))return h.toString();if(!l&&y.isBlob(h))throw new $("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(h)||y.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,b,m){let x=h;if(h&&!m&&typeof h=="object"){if(y.endsWith(b,"{}"))b=r?b:b.slice(0,-2),h=JSON.stringify(h);else if(y.isArray(h)&&Dd(h)||(y.isFileList(h)||y.endsWith(b,"[]"))&&(x=y.toArray(h)))return b=Ja(b),x.forEach(function(v,A){!(y.isUndefined(v)||v===null)&&e.append(o===!0?yo([b],A,s):o===null?b:b+"[]",c(v))}),!1}return Ni(h)?!0:(e.append(yo(m,b,s),c(h)),!1)}const f=[],d=Object.assign(Pd,{defaultVisitor:u,convertValue:c,isVisitable:Ni});function p(h,b){if(!y.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(h),y.forEach(h,function(x,S){(!(y.isUndefined(x)||x===null)&&i.call(e,x,y.isString(S)?S.trim():S,b,d))===!0&&p(x,b?b.concat(S):[S])}),f.pop()}}if(!y.isObject(t))throw new TypeError("data must be an object");return p(t),e}function xo(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ds(t,e){this._pairs=[],t&&Ur(t,this,e)}const Va=ds.prototype;Va.append=function(e,n){this._pairs.push([e,n])};Va.toString=function(e){const n=e?function(r){return e.call(this,r,xo)}:xo;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Ld(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ga(t,e,n){if(!e)return t;const r=n&&n.encode||Ld;y.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=y.isURLSearchParams(e)?e.toString():new ds(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Eo{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Xa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bd=typeof URLSearchParams<"u"?URLSearchParams:ds,Fd=typeof FormData<"u"?FormData:null,zd=typeof Blob<"u"?Blob:null,$d={isBrowser:!0,classes:{URLSearchParams:Bd,FormData:Fd,Blob:zd},protocols:["http","https","file","blob","url","data"]},ps=typeof window<"u"&&typeof document<"u",Ri=typeof navigator=="object"&&navigator||void 0,Ud=ps&&(!Ri||["ReactNative","NativeScript","NS"].indexOf(Ri.product)<0),jd=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hd=ps&&window.location.href||"http://localhost",Wd=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ps,hasStandardBrowserEnv:Ud,hasStandardBrowserWebWorkerEnv:jd,navigator:Ri,origin:Hd},Symbol.toStringTag,{value:"Module"})),be={...Wd,...$d};function Kd(t,e){return Ur(t,new be.classes.URLSearchParams,{visitor:function(n,r,i,s){return be.isNode&&y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function qd(t){return y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jd(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Za(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&y.isArray(i)?i.length:o,l?(y.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!y.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&y.isArray(i[o])&&(i[o]=Jd(i[o])),!a)}if(y.isFormData(t)&&y.isFunction(t.entries)){const n={};return y.forEachEntry(t,(r,i)=>{e(qd(r),i,n,0)}),n}return null}function Vd(t,e,n){if(y.isString(t))try{return(e||JSON.parse)(t),y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zn={transitional:Xa,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=y.isObject(e);if(s&&y.isHTMLForm(e)&&(e=new FormData(e)),y.isFormData(e))return i?JSON.stringify(Za(e)):e;if(y.isArrayBuffer(e)||y.isBuffer(e)||y.isStream(e)||y.isFile(e)||y.isBlob(e)||y.isReadableStream(e))return e;if(y.isArrayBufferView(e))return e.buffer;if(y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Kd(e,this.formSerializer).toString();if((a=y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ur(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Vd(e)):e}],transformResponse:[function(e){const n=this.transitional||zn.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(y.isResponse(e)||y.isReadableStream(e))return e;if(e&&y.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?$.from(a,$.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],t=>{zn.headers[t]={}});const Gd=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xd=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Gd[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},wo=Symbol("internals");function gn(t){return t&&String(t).trim().toLowerCase()}function pr(t){return t===!1||t==null?t:y.isArray(t)?t.map(pr):String(t)}function Zd(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Yd=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ui(t,e,n,r,i){if(y.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!y.isString(e)){if(y.isString(r))return e.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(e)}}function Qd(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ep(t,e){const n=y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ke=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=gn(l);if(!u)throw new Error("header name must be a non-empty string");const f=y.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=pr(a))}const o=(a,l)=>y.forEach(a,(c,u)=>s(c,u,l));if(y.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(y.isString(e)&&(e=e.trim())&&!Yd(e))o(Xd(e),n);else if(y.isObject(e)&&y.isIterable(e)){let a={},l,c;for(const u of e){if(!y.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?y.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=gn(e),e){const r=y.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Zd(i);if(y.isFunction(n))return n.call(this,i,r);if(y.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gn(e),e){const r=y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ui(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=gn(o),o){const a=y.findKey(r,o);a&&(!n||ui(r,r[a],a,n))&&(delete r[a],i=!0)}}return y.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||ui(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return y.forEach(this,(i,s)=>{const o=y.findKey(r,s);if(o){n[o]=pr(i),delete n[s];return}const a=e?Qd(s):String(s).trim();a!==s&&delete n[s],n[a]=pr(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[wo]=this[wo]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=gn(o);r[a]||(ep(i,o),r[a]=!0)}return y.isArray(e)?e.forEach(s):s(e),this}};ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(ke.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});y.freezeMethods(ke);function fi(t,e){const n=this||zn,r=e||n,i=ke.from(r.headers);let s=r.data;return y.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Ya(t){return!!(t&&t.__CANCEL__)}function ln(t,e,n){$.call(this,t??"canceled",$.ERR_CANCELED,e,n),this.name="CanceledError"}y.inherits(ln,$,{__CANCEL__:!0});function Qa(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tp(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function np(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(d*1e3/p):void 0}}function rp(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Er=(t,e,n=3)=>{let r=0;const i=np(50,250);return rp(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},_o=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},So=t=>(...e)=>y.asap(()=>t(...e)),ip=be.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,be.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,sp=be.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];y.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),y.isString(r)&&o.push("path="+r),y.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function op(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ap(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function el(t,e,n){let r=!op(e);return t&&(r||n==!1)?ap(t,e):e}const ko=t=>t instanceof ke?{...t}:t;function Lt(t,e){e=e||{};const n={};function r(c,u,f,d){return y.isPlainObject(c)&&y.isPlainObject(u)?y.merge.call({caseless:d},c,u):y.isPlainObject(u)?y.merge({},u):y.isArray(u)?u.slice():u}function i(c,u,f,d){if(y.isUndefined(u)){if(!y.isUndefined(c))return r(void 0,c,f,d)}else return r(c,u,f,d)}function s(c,u){if(!y.isUndefined(u))return r(void 0,u)}function o(c,u){if(y.isUndefined(u)){if(!y.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>i(ko(c),ko(u),f,!0)};return y.forEach(Object.keys({...t,...e}),function(u){const f=l[u]||i,d=f(t[u],e[u],u);y.isUndefined(d)&&f!==a||(n[u]=d)}),n}const tl=t=>{const e=Lt({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=ke.from(o),e.url=Ga(el(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),y.isFormData(n)){if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(y.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(be.hasStandardBrowserEnv&&(r&&y.isFunction(r)&&(r=r(e)),r||r!==!1&&ip(e.url))){const l=i&&s&&sp.read(s);l&&o.set(i,l)}return e},lp=typeof XMLHttpRequest<"u",cp=lp&&function(t){return new Promise(function(n,r){const i=tl(t);let s=i.data;const o=ke.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,d,p,h;function b(){p&&p(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function x(){if(!m)return;const v=ke.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:v,config:t,request:m};Qa(function(I){n(I),b()},function(I){r(I),b()},N),m=null}"onloadend"in m?m.onloadend=x:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(x)},m.onabort=function(){m&&(r(new $("Request aborted",$.ECONNABORTED,t,m)),m=null)},m.onerror=function(A){const N=A&&A.message?A.message:"Network Error",L=new $(N,$.ERR_NETWORK,t,m);L.event=A||null,r(L),m=null},m.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||Xa;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new $(A,N.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,t,m)),m=null},s===void 0&&o.setContentType(null),"setRequestHeader"in m&&y.forEach(o.toJSON(),function(A,N){m.setRequestHeader(N,A)}),y.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),a&&a!=="json"&&(m.responseType=i.responseType),c&&([d,h]=Er(c,!0),m.addEventListener("progress",d)),l&&m.upload&&([f,p]=Er(l),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=v=>{m&&(r(!v||v.type?new ln(null,t,m):v),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const S=tp(i.url);if(S&&be.protocols.indexOf(S)===-1){r(new $("Unsupported protocol "+S+":",$.ERR_BAD_REQUEST,t));return}m.send(s||null)})},up=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof $?u:new ln(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new $(`timeout ${e} of ms exceeded`,$.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>y.asap(a),l}},fp=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},dp=async function*(t,e){for await(const n of pp(t))yield*fp(n,e)},pp=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},vo=(t,e,n,r)=>{const i=dp(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let d=s+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Co=64*1024,{isFunction:Qn}=y,hp=(({Request:t,Response:e})=>({Request:t,Response:e}))(y.global),{ReadableStream:To,TextEncoder:Oo}=y.global,Ao=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mp=t=>{t=y.merge.call({skipUndefined:!0},hp,t);const{fetch:e,Request:n,Response:r}=t,i=e?Qn(e):typeof fetch=="function",s=Qn(n),o=Qn(r);if(!i)return!1;const a=i&&Qn(To),l=i&&(typeof Oo=="function"?(h=>b=>h.encode(b))(new Oo):async h=>new Uint8Array(await new n(h).arrayBuffer())),c=s&&a&&Ao(()=>{let h=!1;const b=new n(be.origin,{body:new To,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!b}),u=o&&a&&Ao(()=>y.isReadableStream(new r("").body)),f={stream:u&&(h=>h.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(b,m)=>{let x=b&&b[h];if(x)return x.call(b);throw new $(`Response type '${h}' is not supported`,$.ERR_NOT_SUPPORT,m)})});const d=async h=>{if(h==null)return 0;if(y.isBlob(h))return h.size;if(y.isSpecCompliantForm(h))return(await new n(be.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(y.isArrayBufferView(h)||y.isArrayBuffer(h))return h.byteLength;if(y.isURLSearchParams(h)&&(h=h+""),y.isString(h))return(await l(h)).byteLength},p=async(h,b)=>{const m=y.toFiniteNumber(h.getContentLength());return m??d(b)};return async h=>{let{url:b,method:m,data:x,signal:S,cancelToken:v,timeout:A,onDownloadProgress:N,onUploadProgress:L,responseType:I,headers:K,withCredentials:Q="same-origin",fetchOptions:Me}=tl(h),He=e||fetch;I=I?(I+"").toLowerCase():"text";let Pe=up([S,v&&v.toAbortSignal()],A),Ne=null;const Y=Pe&&Pe.unsubscribe&&(()=>{Pe.unsubscribe()});let ce;try{if(L&&c&&m!=="get"&&m!=="head"&&(ce=await p(K,x))!==0){let Ee=new n(b,{method:"POST",body:x,duplex:"half"}),Re;if(y.isFormData(x)&&(Re=Ee.headers.get("content-type"))&&K.setContentType(Re),Ee.body){const[it,Kt]=_o(ce,Er(So(L)));x=vo(Ee.body,Co,it,Kt)}}y.isString(Q)||(Q=Q?"include":"omit");const te=s&&"credentials"in n.prototype,Wt={...Me,signal:Pe,method:m.toUpperCase(),headers:K.normalize().toJSON(),body:x,duplex:"half",credentials:te?Q:void 0};Ne=s&&new n(b,Wt);let V=await(s?He(Ne,Me):He(b,Wt));const Le=u&&(I==="stream"||I==="response");if(u&&(N||Le&&Y)){const Ee={};["status","statusText","headers"].forEach(Kn=>{Ee[Kn]=V[Kn]});const Re=y.toFiniteNumber(V.headers.get("content-length")),[it,Kt]=N&&_o(Re,Er(So(N),!0))||[];V=new r(vo(V.body,Co,it,()=>{Kt&&Kt(),Y&&Y()}),Ee)}I=I||"text";let Ze=await f[y.findKey(f,I)||"text"](V,h);return!Le&&Y&&Y(),await new Promise((Ee,Re)=>{Qa(Ee,Re,{data:Ze,headers:ke.from(V.headers),status:V.status,statusText:V.statusText,config:h,request:Ne})})}catch(te){throw Y&&Y(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,h,Ne),{cause:te.cause||te}):$.from(te,te&&te.code,h,Ne)}}},gp=new Map,nl=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,l,c,u=gp;for(;a--;)l=s[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:mp(e)),u=c;return c};nl();const Ii={http:Id,xhr:cp,fetch:{get:nl}};y.forEach(Ii,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Mo=t=>`- ${t}`,bp=t=>y.isFunction(t)||t===null||t===!1,rl={getAdapter:(t,e)=>{t=y.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!bp(r)&&(i=Ii[(a=String(r)).toLowerCase()],i===void 0))throw new $(`Unknown adapter '${a}'`);if(i&&(y.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Mo).join(`
`):" "+Mo(o[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Ii};function di(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ln(null,t)}function No(t){return di(t),t.headers=ke.from(t.headers),t.data=fi.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rl.getAdapter(t.adapter||zn.adapter,t)(t).then(function(r){return di(t),r.data=fi.call(t,t.transformResponse,r),r.headers=ke.from(r.headers),r},function(r){return Ya(r)||(di(t),r&&r.response&&(r.response.data=fi.call(t,t.transformResponse,r.response),r.response.headers=ke.from(r.response.headers))),Promise.reject(r)})}const il="1.12.2",jr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jr[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ro={};jr.transitional=function(e,n,r){function i(s,o){return"[Axios v"+il+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new $(i(o," has been removed"+(n?" in "+n:"")),$.ERR_DEPRECATED);return n&&!Ro[o]&&(Ro[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};jr.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yp(t,e,n){if(typeof t!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new $("option "+s+" must be "+l,$.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $("Unknown option "+s,$.ERR_BAD_OPTION)}}const hr={assertOptions:yp,validators:jr},qe=hr.validators;let Ct=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Eo,response:new Eo}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Lt(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&hr.assertOptions(r,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1),i!=null&&(y.isFunction(i)?n.paramsSerializer={serialize:i}:hr.assertOptions(i,{encode:qe.function,serialize:qe.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hr.assertOptions(n,{baseUrl:qe.spelling("baseURL"),withXsrfToken:qe.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&y.merge(s.common,s[n.method]);s&&y.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=ke.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,d;if(!l){const h=[No.bind(this),void 0];for(h.unshift(...a),h.push(...c),d=h.length,u=Promise.resolve(n);f<d;)u=u.then(h[f++],h[f++]);return u}d=a.length;let p=n;for(;f<d;){const h=a[f++],b=a[f++];try{p=h(p)}catch(m){b.call(this,m);break}}try{u=No.call(this,p)}catch(h){return Promise.reject(h)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Lt(this.defaults,e);const n=el(e.baseURL,e.url,e.allowAbsoluteUrls);return Ga(n,e.params,e.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(e){Ct.prototype[e]=function(n,r){return this.request(Lt(r||{},{method:e,url:n,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Lt(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ct.prototype[e]=n(),Ct.prototype[e+"Form"]=n(!0)});let xp=class sl{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ln(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sl(function(i){e=i}),cancel:e}}};function Ep(t){return function(n){return t.apply(null,n)}}function wp(t){return y.isObject(t)&&t.isAxiosError===!0}const Di={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Di).forEach(([t,e])=>{Di[e]=t});function ol(t){const e=new Ct(t),n=Ba(Ct.prototype.request,e);return y.extend(n,Ct.prototype,e,{allOwnKeys:!0}),y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ol(Lt(t,i))},n}const ie=ol(zn);ie.Axios=Ct;ie.CanceledError=ln;ie.CancelToken=xp;ie.isCancel=Ya;ie.VERSION=il;ie.toFormData=Ur;ie.AxiosError=$;ie.Cancel=ie.CanceledError;ie.all=function(e){return Promise.all(e)};ie.spread=Ep;ie.isAxiosError=wp;ie.mergeConfig=Lt;ie.AxiosHeaders=ke;ie.formToJSON=t=>Za(y.isHTMLForm(t)?new FormData(t):t);ie.getAdapter=rl.getAdapter;ie.HttpStatusCode=Di;ie.default=ie;const{Axios:rE,AxiosError:iE,CanceledError:sE,isCancel:oE,CancelToken:aE,VERSION:lE,all:cE,Cancel:uE,isAxiosError:fE,spread:dE,toFormData:pE,AxiosHeaders:hE,HttpStatusCode:mE,formToJSON:gE,getAdapter:bE,mergeConfig:yE}=ie;window.axios=ie;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function me(t){this.content=t}me.prototype={constructor:me,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new me(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new me(n)},addToStart:function(t,e){return new me([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new me(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new me(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=me.from(t),t.size?new me(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=me.from(t),t.size?new me(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=me.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};me.from=function(t){if(t instanceof me)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new me(e)};function al(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=al(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function ll(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=ll(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class w{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new w(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new w(r,i)}cutByIndex(e,n){return e==n?w.empty:e==0&&n==this.content.length?this:new w(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new w(i,s)}addToStart(e){return new w([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new w(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return al(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return ll(this,e,n,r)}findIndex(e){if(e==0)return er(0,e);if(e==this.size)return er(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?er(n+1,s):er(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return w.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new w(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return w.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new w(n||e,r)}static from(e){if(!e)return w.empty;if(e instanceof w)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new w([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}w.empty=new w([],0);const pi={index:0,offset:0};function er(t,e){return pi.index=t,pi.offset=e,pi}function wr(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!wr(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!wr(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class J{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&wr(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return J.none;if(e instanceof J)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}J.none=[];class _r extends Error{}class T{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=ul(this.content,e+this.openStart,n);return r&&new T(r,this.openStart,this.openEnd)}removeBetween(e,n){return new T(cl(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return T.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new T(w.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new T(e,r,i)}}T.empty=new T(w.empty,0,0);function cl(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(cl(s.content,e-i-1,n-i-1)))}function ul(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=ul(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function _p(t,e,n){if(n.openStart>t.depth)throw new _r("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new _r("Inconsistent open depths");return fl(t,e,n,0)}function fl(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=fl(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Ot(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Sp(n,t);return Ot(s,pl(t,o,a,e,r))}else return Ot(s,Sr(t,e,r))}function dl(t,e){if(!e.type.compatibleContent(t.type))throw new _r("Cannot join "+e.type.name+" onto "+t.type.name)}function Pi(t,e,n){let r=t.node(n);return dl(r,e.node(n)),r}function Tt(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Sn(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Tt(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Tt(i.child(a),r);e&&e.depth==n&&e.textOffset&&Tt(e.nodeBefore,r)}function Ot(t,e){return t.type.checkContent(e),t.copy(e)}function pl(t,e,n,r,i){let s=t.depth>i&&Pi(t,e,i+1),o=r.depth>i&&Pi(n,r,i+1),a=[];return Sn(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(dl(s,o),Tt(Ot(s,pl(t,e,n,r,i+1)),a)):(s&&Tt(Ot(s,Sr(t,e,i+1)),a),Sn(e,n,i,a),o&&Tt(Ot(o,Sr(n,r,i+1)),a)),Sn(r,null,i,a),new w(a)}function Sr(t,e,n){let r=[];if(Sn(null,t,n,r),t.depth>n){let i=Pi(t,e,n+1);Tt(Ot(i,Sr(t,e,n+1)),r)}return Sn(e,null,n,r),new w(r)}function Sp(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(w.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class On{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return J.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new kr(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new On(n,r,s)}static resolveCached(e,n){let r=Io.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Io.set(e,r=new kp);let i=r.elts[r.i]=On.resolve(e,n);return r.i=(r.i+1)%vp,i}}class kp{constructor(){this.elts=[],this.i=0}}const vp=12,Io=new WeakMap;class kr{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Cp=Object.create(null);class Ge{constructor(e,n,r,i=J.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||w.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&wr(this.attrs,n||e.defaultAttrs||Cp)&&J.sameSet(this.marks,r||J.none)}copy(e=null){return e==this.content?this:new Ge(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ge(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return T.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new T(c,i.depth-o,s.depth-o)}replace(e,n,r){return _p(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return On.resolveCached(this,e)}resolveNoCache(e){return On.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),hl(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=w.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=J.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!J.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=w.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Ge.prototype.text=void 0;class vr extends Ge{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hl(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vr(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vr(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function hl(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Bt{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Tp(e,n);if(r.next==null)return Bt.empty;let i=ml(r);r.next&&r.err("Unexpected trailing text");let s=Dp(Ip(i));return Pp(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return w.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=s(f,a.concat(u));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Bt.empty=new Bt(!0);class Tp{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ml(t){let e=[];do e.push(Op(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Op(t){let e=[];do e.push(Ap(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Ap(t){let e=Rp(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Mp(t,e);else break;return e}function Do(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Mp(t,e){let n=Do(t),r=n;return t.eat(",")&&(t.next!="}"?r=Do(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Np(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Rp(t){if(t.eat("(")){let e=ml(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Np(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ip(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function gl(t,e){return e-t}function Po(t,e){let n=[];return r(e),n.sort(gl);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function Dp(t){let e=Object.create(null);return n(Po(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Po(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Bt(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(gl);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function Pp(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bl(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function yl(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function xl(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function El(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Bp(t,r,e[r]);return n}let Lo=class wl{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=El(e,r.attrs),this.defaultAttrs=bl(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bt.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:yl(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ge(this,this.computeAttrs(e),w.from(n),J.setFrom(r))}createChecked(e=null,n,r){return n=w.from(n),this.checkContent(n),new Ge(this,this.computeAttrs(e),n,J.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=w.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(w.empty,!0);return s?new Ge(this,e,n.append(s),J.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){xl(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:J.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new wl(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Lp(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Bp{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Lp(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Hr{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=El(e,i.attrs),this.excluded=null;let s=bl(this.attrs);this.instance=s?new J(this,s):null}create(e=null){return!e&&this.instance?this.instance:new J(this,yl(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Hr(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){xl(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Fp{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=me.from(e.nodes),n.marks=me.from(e.marks||{}),this.nodes=Lo.compile(this.spec.nodes,this),this.marks=Hr.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Bt.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Bo(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Bo(this,o.split(" "))}this.nodeFromJSON=i=>Ge.fromJSON(this,i),this.markFromJSON=i=>J.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Lo){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new vr(r,r.defaultAttrs,e,J.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Bo(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function zp(t){return t.tag!=null}function $p(t){return t.style!=null}class At{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(zp(i))this.tags.push(i);else if($p(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new zo(this,n,!1);return r.addAll(e,J.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new zo(this,n,!0);return r.addAll(e,J.none,n.from,n.to),T.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Hp(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=$o(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=$o(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new At(e,At.schemaRules(e)))}}const _l={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Up={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Sl={ol:!0,ul:!0},An=1,Li=2,kn=4;function Fo(t,e,n){return e!=null?(e?An:0)|(e==="full"?Li:0):t&&t.whitespace=="pre"?An|Li:n&~kn}class tr{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=J.none,this.match=s||(o&kn?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(w.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&An)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=w.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(w.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!_l.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zo{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=Fo(null,n.preserveWhitespace,0)|(r?kn:0);i?s=new tr(i.type,i.attrs,J.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new tr(null,null,J.none,!0,null,o):s=new tr(e.schema.topNodeType,null,J.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Li?"full":this.localPreserveWS||(i.options&An)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;Sl.hasOwnProperty(o)&&this.parser.normalizeLists&&jp(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Up.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(_l.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=l&&l.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=J.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):Uo(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Fo(e,s,o.options);o.options&kn&&o.content.length==0&&(a|=kn);let l=J.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Uo(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new tr(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=An)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function jp(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Sl.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Hp(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function $o(t){let e={};for(let n in t)e[n]=t[n];return e}function Uo(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class Wr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=hi(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=mr(hi(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&mr(hi(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return mr(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Wr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=jo(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return jo(e.marks)}}function jo(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function hi(t){return t.document||window.document}const Ho=new WeakMap;function Wp(t){let e=Ho.get(t);return e===void 0&&Ho.set(t,e=Kp(t)),e}function Kp(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function mr(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Wp(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=mr(t,d,n,r);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const kl=65535,vl=Math.pow(2,16);function qp(t,e){return t+e*vl}function Wo(t){return t&kl}function Jp(t){return(t-(t&kl))/vl}const Cl=1,Tl=2,gr=4,Ol=8;class Bi{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Ol)>0}get deletedBefore(){return(this.delInfo&(Cl|gr))>0}get deletedAfter(){return(this.delInfo&(Tl|gr))>0}get deletedAcross(){return(this.delInfo&gr)>0}}class Ce{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ce.empty)return Ce.empty}recover(e){let n=0,r=Wo(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Jp(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],f=l+c;if(e<=f){let d=c?e==l?-1:e==f?1:n:n,p=l+i+(d<0?0:u);if(r)return p;let h=e==(n<0?l:f)?null:qp(a/3,e-l),b=e==l?Tl:e==f?Cl:gr;return(n<0?e!=l:e!=f)&&(b|=Ol),new Bi(p,b,h)}i+=u-c}return r?e+i:new Bi(e+i,0,null)}touches(e,n){let r=0,i=Wo(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new Ce(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ce.empty:new Ce(e<0?[0,-e,0]:[0,0,e])}}Ce.empty=new Ce([]);class Cr{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Cr(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Cr;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Bi(e,i,null)}}const mi=Object.create(null);class xe{getMap(){return Ce.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=mi[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in mi)throw new RangeError("Duplicate use of step JSON ID "+e);return mi[e]=n,n.prototype.jsonID=e,n}}class oe{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new oe(e,null)}static fail(e){return new oe(null,e)}static fromReplace(e,n,r,i){try{return oe.ok(e.replace(n,r,i))}catch(s){if(s instanceof _r)return oe.fail(s.message);throw s}}}function hs(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(hs(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return w.fromArray(r)}class ct extends xe{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new T(hs(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return oe.fromReplace(e,this.from,this.to,s)}invert(){return new Fe(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ct(n.pos,r.pos,this.mark)}merge(e){return e instanceof ct&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ct(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ct(n.from,n.to,e.markFromJSON(n.mark))}}xe.jsonID("addMark",ct);class Fe extends xe{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new T(hs(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return oe.fromReplace(e,this.from,this.to,r)}invert(){return new ct(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Fe(n.pos,r.pos,this.mark)}merge(e){return e instanceof Fe&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fe(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fe(n.from,n.to,e.markFromJSON(n.mark))}}xe.jsonID("removeMark",Fe);class ut extends xe{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return oe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return oe.fromReplace(e,this.pos,this.pos+1,new T(w.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ut(this.pos,n.marks[i]);return new ut(this.pos,this.mark)}}return new Ft(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ut(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ut(n.pos,e.markFromJSON(n.mark))}}xe.jsonID("addNodeMark",ut);class Ft extends xe{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return oe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return oe.fromReplace(e,this.pos,this.pos+1,new T(w.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ut(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ft(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ft(n.pos,e.markFromJSON(n.mark))}}xe.jsonID("removeNodeMark",Ft);class de extends xe{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Fi(e,this.from,this.to)?oe.fail("Structure replace would overwrite content"):oe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ce([this.from,this.to-this.from,this.slice.size])}invert(e){return new de(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new de(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof de)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?T.empty:new T(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new de(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?T.empty:new T(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new de(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new de(n.from,n.to,T.fromJSON(e,n.slice),!!n.structure)}}xe.jsonID("replace",de);class pe extends xe{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Fi(e,this.from,this.gapFrom)||Fi(e,this.gapTo,this.to)))return oe.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return oe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?oe.fromReplace(e,this.from,this.to,r):oe.fail("Content does not fit in gap")}getMap(){return new Ce([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new pe(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new pe(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pe(n.from,n.to,n.gapFrom,n.gapTo,T.fromJSON(e,n.slice),n.insert,!!n.structure)}}xe.jsonID("replaceAround",pe);function Fi(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Vp(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let d=Math.max(c,e),p=Math.min(c+l.nodeSize,n),h=r.addToSet(f);for(let b=0;b<f.length;b++)f[b].isInSet(h)||(o&&o.to==d&&o.mark.eq(f[b])?o.to=p:i.push(o=new Fe(d,p,f[b])));a&&a.to==d?a.to=p:s.push(a=new ct(d,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function Gp(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Hr){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==s-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=c,d.step=s):i.push({style:f,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Fe(o.from,o.to,o.style)))}function ms(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,f=r.matchType(c.type);if(!f)o.push(new de(a,u,T.empty));else{r=f;for(let d=0;d<c.marks.length;d++)n.allowsMarkType(c.marks[d].type)||t.step(new Fe(a,u,c.marks[d]));if(i&&c.isText&&n.whitespace!="pre"){let d,p=/\r?\n|\r/g,h;for(;d=p.exec(c.text);)h||(h=new T(w.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new de(a+d.index,a+d.index+d[0].length,h))}}a=u}if(!r.validEnd){let l=r.fillBefore(w.empty,!0);t.replace(a,a,new T(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Xp(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function cn(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!Xp(i,s,o))break}return null}function Zp(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=w.empty,f=0;for(let h=s,b=!1;h>n;h--)b||r.index(h)>0?(b=!0,u=w.from(r.node(h).copy(u)),f++):l--;let d=w.empty,p=0;for(let h=s,b=!1;h>n;h--)b||i.after(h+1)<i.end(h)?(b=!0,d=w.from(i.node(h).copy(d)),p++):c++;t.step(new pe(l,c,o,a,new T(u.append(d),f,p),u.size-f,!0))}function Al(t,e,n=null,r=t){let i=Yp(t,e),s=i&&Qp(r,e);return s?i.map(Ko).concat({type:e,attrs:n}).concat(s.map(Ko)):null}function Ko(t){return{type:t,attrs:null}}function Yp(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function Qp(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function eh(t,e,n){let r=w.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=w.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new pe(i,s,i,s,new T(r,0,0),n.length,!0))}function th(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&nh(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?c=!1:!p&&h&&(c=!0)}c===!1&&Nl(t,o,a,s),ms(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),f=u.map(a,1),d=u.map(a+o.nodeSize,1);return t.step(new pe(f,d,f+1,d-1,new T(w.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&Ml(t,o,a,s),!1}})}function Ml(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Nl(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function nh(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function rh(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new pe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new T(w.from(o),0,0),1,!0))}function Qe(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[u+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let b=r&&r[u]||f;if(!f.canReplace(d+1,f.childCount)||!b.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function ih(t,e,n=1,r){let i=t.doc.resolve(e),s=w.empty,o=w.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=w.from(i.node(a).copy(s));let u=r&&r[c];o=w.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new de(e,e,new T(s.append(o),n,n),!0))}function $t(t,e){let n=t.resolve(e),r=n.index();return Rl(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function sh(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Rl(t,e){return!!(t&&e&&!t.isLeaf&&sh(t,e))}function Kr(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&Rl(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function oh(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);u&&!f?r=!1:!u&&f&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);Nl(t,u.node(),u.before(),a)}o.inlineContent&&ms(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new de(c,l.map(e+n,-1),T.empty,!0)),r===!0){let u=t.doc.resolve(c);Ml(t,u.node(),u.before(),t.steps.length)}return t}function ah(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function lh(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function qr(t,e,n=e,r=T.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return Il(i,s,r)?new de(e,n,r):new ch(i,s,r).fit()}function Il(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class ch{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=w.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=w.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new T(s,o,a);return e>-1?new pe(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new de(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=gi(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(n==1&&(o?c.matchType(o.type)||(f=c.fillBefore(w.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:f};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=gi(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new T(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=gi(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new T(En(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new T(En(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:d}=this.frontier[n];if(i){for(let b=0;b<i.childCount;b++)u.push(i.child(b));f=f.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let b=a.child(c),m=f.matchType(b.type);if(!m)break;c++,(c>1||l==0||b.content.size)&&(f=m,u.push(Dl(b.mark(d.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?p:-1)))}let h=c==a.childCount;h||(p=-1),this.placed=wn(this.placed,n,w.from(u)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,m=a;b<p;b++){let x=m.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),m=x.content}this.unplaced=h?e==0?T.empty:new T(En(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new T(En(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!bi(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=bi(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=bi(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=wn(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=wn(this.placed,this.depth,w.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(w.empty,!0);n.childCount&&(this.placed=wn(this.placed,this.frontier.length,n))}}function En(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(En(t.firstChild.content,e-1,n)))}function wn(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(wn(t.lastChild.content,e-1,n)))}function gi(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Dl(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Dl(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(w.empty,!0)))),t.copy(r)}function bi(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!uh(n,s.content,o)?a:null}function uh(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function fh(t){return t.spec.defining||t.spec.definingForContent}function dh(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(Il(i,s,r))return t.step(new de(e,n,r));let o=Ll(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(d)>-1?a=d:i.before(d)==p&&o.splice(1,0,-d)}let l=o.indexOf(a),c=[],u=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(c.push(h),p==r.openStart)break;d=h.content}for(let d=u-1;d>=0;d--){let p=c[d],h=fh(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=d;else if(h||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+u+1)%(r.openStart+1),h=c[p];if(h)for(let b=0;b<o.length;b++){let m=o[(b+l)%o.length],x=!0;m<0&&(x=!1,m=-m);let S=i.node(m-1),v=i.index(m-1);if(S.canReplaceWith(v,v,h.type,h.marks))return t.replace(i.before(m),x?s.after(m):n,new T(Pl(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=o.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=o[d];p<0||(e=i.before(p),n=s.after(p))}}function Pl(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Pl(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(w.empty,!0))}return t}function ph(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=ah(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new T(w.from(r),0,0))}function hh(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=Ll(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function Ll(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Yt extends xe{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return oe.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return oe.fromReplace(e,this.pos,this.pos+1,new T(w.from(i),0,n.isLeaf?0:1))}getMap(){return Ce.empty}invert(e){return new Yt(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yt(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Yt(n.pos,n.attr,n.value)}}xe.jsonID("attr",Yt);class Mn extends xe{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return oe.ok(r)}getMap(){return Ce.empty}invert(e){return new Mn(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mn(n.attr,n.value)}}xe.jsonID("docAttr",Mn);let tn=class extends Error{};tn=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};tn.prototype=Object.create(Error.prototype);tn.prototype.constructor=tn;tn.prototype.name="TransformError";class mh{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Cr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new tn(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=T.empty){let i=qr(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new T(w.from(r),0,0))}delete(e,n){return this.replace(e,n,T.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return dh(this,e,n,r),this}replaceRangeWith(e,n,r){return ph(this,e,n,r),this}deleteRange(e,n){return hh(this,e,n),this}lift(e,n){return Zp(this,e,n),this}join(e,n=1){return oh(this,e,n),this}wrap(e,n){return eh(this,e,n),this}setBlockType(e,n=e,r,i=null){return th(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return rh(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Yt(e,n,r)),this}setDocAttribute(e,n){return this.step(new Mn(e,n)),this}addNodeMark(e,n){return this.step(new ut(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof J)n.isInSet(r.marks)&&this.step(new Ft(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new Ft(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return ih(this,e,n,r),this}addMark(e,n,r){return Vp(this,e,n,r),this}removeMark(e,n,r){return Gp(this,e,n,r),this}clearIncompatible(e,n,r){return ms(this,e,n,r),this}}const yi=Object.create(null);class W{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new gh(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=T.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?T.empty:n),a==0&&Vo(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),Vo(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new j(e):Gt(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Gt(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Gt(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Te(e.node(0))}static atStart(e){return Gt(e,e,0,0,1)||new Te(e)}static atEnd(e){return Gt(e,e,e.content.size,e.childCount,-1)||new Te(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=yi[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in yi)throw new RangeError("Duplicate use of selection JSON ID "+e);return yi[e]=n,n.prototype.jsonID=e,n}getBookmark(){return j.between(this.$anchor,this.$head).getBookmark()}}W.prototype.visible=!0;class gh{constructor(e,n){this.$from=e,this.$to=n}}let qo=!1;function Jo(t){!qo&&!t.parent.inlineContent&&(qo=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class j extends W{constructor(e,n=e){Jo(e),Jo(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return W.near(r);let i=e.resolve(n.map(this.anchor));return new j(i.parent.inlineContent?i:r,r)}replace(e,n=T.empty){if(super.replace(e,n),n==T.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof j&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jr(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new j(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=W.findFrom(n,r,!0)||W.findFrom(n,-r,!0);if(s)n=s.$head;else return W.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(W.findFrom(e,-r,!0)||W.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new j(e,n)}}W.jsonID("text",j);class Jr{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Jr(e.map(this.anchor),e.map(this.head))}resolve(e){return j.between(e.resolve(this.anchor),e.resolve(this.head))}}class P extends W{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?W.near(s):new P(s)}content(){return new T(w.from(this.node),0,0)}eq(e){return e instanceof P&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gs(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new P(e.resolve(n.anchor))}static create(e,n){return new P(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}P.prototype.visible=!1;W.jsonID("node",P);class gs{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Jr(r,r):new gs(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&P.isSelectable(r)?new P(n):W.near(n)}}class Te extends W{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=T.empty){if(n==T.empty){e.delete(0,e.doc.content.size);let r=W.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Te(e)}map(e){return new Te(e)}eq(e){return e instanceof Te}getBookmark(){return bh}}W.jsonID("all",Te);const bh={map(){return this},resolve(t){return new Te(t)}};function Gt(t,e,n,r,i,s=!1){if(e.inlineContent)return j.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&P.isSelectable(a))return P.create(t,n-(i<0?a.nodeSize:0))}else{let l=Gt(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function Vo(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof de||i instanceof pe))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(W.near(t.doc.resolve(o),n))}function Go(t,e){return!e||!t?t:t.bind(e)}class nr{constructor(e,n,r){this.name=e,this.init=Go(n.init,r),this.apply=Go(n.apply,r)}}new nr("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new nr("selection",{init(t,e){return t.selection||W.atStart(e.doc)},apply(t){return t.selection}}),new nr("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new nr("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function Bl(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Bl(i,e,{})),n[r]=i}return n}class tt{constructor(e){this.spec=e,this.props={},e.props&&Bl(e.props,this,this.props),this.key=e.key?e.key.key:Fl("plugin")}getState(e){return e[this.key]}}const xi=Object.create(null);function Fl(t){return t in xi?t+"$"+ ++xi[t]:(xi[t]=0,t+"$")}class nt{constructor(e="key"){this.key=Fl(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ut=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},zl=function(t,e,n,r){return n&&(Xo(t,e,n,r,-1)||Xo(t,e,n,r,1))},yh=/^(img|br|input|textarea|hr)$/i;function Xo(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Tr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||bs(t)||yh.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ut(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?Tr(t):0}else return!1}}function Tr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xh(t,e,n){for(let r=e==0,i=e==Tr(t);r||i;){if(t==n)return!0;let s=Ut(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Tr(t)}}function bs(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const $l=function(t){return t.focusNode&&zl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ul(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const Xe=typeof navigator<"u"?navigator:null,Zo=typeof document<"u"?document:null,mt=Xe&&Xe.userAgent||"",zi=/Edge\/(\d+)/.exec(mt),jl=/MSIE \d/.exec(mt),$i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mt),$n=!!(jl||$i||zi),Hl=jl?document.documentMode:$i?+$i[1]:zi?+zi[1]:0,Vr=!$n&&/gecko\/(\d+)/i.test(mt);Vr&&+(/Firefox\/(\d+)/.exec(mt)||[0,0])[1];const Ui=!$n&&/Chrome\/(\d+)/.exec(mt),gt=!!Ui,Wl=Ui?+Ui[1]:0,jt=!$n&&!!Xe&&/Apple Computer/.test(Xe.vendor),ys=jt&&(/Mobile\/\w+/.test(mt)||!!Xe&&Xe.maxTouchPoints>2),Ie=ys||(Xe?/Mac/.test(Xe.platform):!1),Eh=Xe?/Win/.test(Xe.platform):!1,Un=/Android \d/.test(mt),xs=!!Zo&&"webkitFontSmoothing"in Zo.documentElement.style,wh=xs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _h(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if($l(n)){for(l=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&P.isSelectable(f)&&i.parent&&!(f.isInline&&xh(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new P(o==d?a:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,d=o;for(let p=0;p<n.rangeCount;p++){let h=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(f<0)return null;[l,o]=d==t.state.selection.anchor?[d,f]:[f,d],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let f=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=ql(t,u,a,f)}return c}function Kl(t){return t.editable?t.hasFocus():Ch(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Es(t,e=!1){let n=t.state.selection;if(vh(t,n),!!Kl(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&gt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&zl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)kh(t);else{let{anchor:r,head:i}=n,s,o;Yo&&!(n instanceof j)&&(n.$from.parent.inlineContent||(s=Qo(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Qo(t,n.to))),t.docView.setSelection(r,i,t,e),Yo&&(s&&ea(s),o&&ea(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Sh(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Yo=jt||gt&&Wl<63;function Qo(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(jt&&i&&i.contentEditable=="false")return Ei(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Ei(i);if(s)return Ei(s)}}function Ei(t){return t.contentEditable="true",jt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ea(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Sh(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Kl(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function kh(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Ut(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&$n&&Hl<=11&&(n.disabled=!0,n.disabled=!1)}function vh(t,e){if(e instanceof P){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ta(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ta(t)}function ta(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ql(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||j.between(e,n,r)}function Ch(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ji(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&W.findFrom(s,e)}function lt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function na(t,e,n){let r=t.state.selection;if(r instanceof j)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return lt(t,new j(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ji(t.state,e);return i&&i instanceof P?lt(t,i):!1}else if(!(Ie&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?P.isSelectable(s)?lt(t,new P(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):xs?lt(t,new j(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof P&&r.node.isInline)return lt(t,new j(e>0?r.$to:r.$from));{let i=ji(t.state,e);return i?lt(t,i):!1}}}function Or(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vn(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Vt(t,e){return e<0?Th(t):Oh(t)}function Th(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Vr&&n.nodeType==1&&r<Or(n)&&vn(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(vn(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Jl(n))break;{let a=n.previousSibling;for(;a&&vn(a,-1);)i=n.parentNode,s=Ut(a),a=a.previousSibling;if(a)n=a,r=Or(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Hi(t,n,r):i&&Hi(t,i,s)}function Oh(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Or(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(vn(a,1))s=n,o=++r;else break}else{if(Jl(n))break;{let a=n.nextSibling;for(;a&&vn(a,1);)s=a.parentNode,o=Ut(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Or(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Hi(t,s,o)}function Jl(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ah(t,e){for(;t&&e==t.childNodes.length&&!bs(t);)e=Ut(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Mh(t,e){for(;t&&!e&&!bs(t);)e=Ut(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Hi(t,e,n){if(e.nodeType!=3){let s,o;(o=Ah(e,n))?(e=o,n=0):(s=Mh(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if($l(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Es(t)},50)}function ra(t,e){let n=t.state.doc.resolve(e);if(!(gt||Eh)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function ia(t,e,n){let r=t.state.selection;if(r instanceof j&&!r.empty||n.indexOf("s")>-1||Ie&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=ji(t.state,e);if(o&&o instanceof P)return lt(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Te?W.near(o,e):W.findFrom(o,e);return a?lt(t,a):!1}return!1}function sa(t,e){if(!(t.state.selection instanceof j))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function oa(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Nh(t){if(!jt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;oa(t,r,"true"),setTimeout(()=>oa(t,r,"false"),20)}return!1}function Rh(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Ih(t,e){let n=e.keyCode,r=Rh(e);if(n==8||Ie&&n==72&&r=="c")return sa(t,-1)||Vt(t,-1);if(n==46&&!e.shiftKey||Ie&&n==68&&r=="c")return sa(t,1)||Vt(t,1);if(n==13||n==27)return!0;if(n==37||Ie&&n==66&&r=="c"){let i=n==37?ra(t,t.state.selection.from)=="ltr"?-1:1:-1;return na(t,i,r)||Vt(t,i)}else if(n==39||Ie&&n==70&&r=="c"){let i=n==39?ra(t,t.state.selection.from)=="ltr"?1:-1:1;return na(t,i,r)||Vt(t,i)}else{if(n==38||Ie&&n==80&&r=="c")return ia(t,-1,r)||Vt(t,-1);if(n==40||Ie&&n==78&&r=="c")return Nh(t)||ia(t,1,r)||Vt(t,1);if(r==(Ie?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Vl(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||Wr.fromSchema(t.state.schema),a=ec(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=Ql[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let h=a.createElement(u[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function Gl(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,s||r,t)}),s)return a=new T(w.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",d=>{a=d(a,t,!0)}),a;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)a=f;else{let d=i.marks(),{schema:p}=t.state,h=Wr.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let m=o.appendChild(document.createElement("p"));b&&m.appendChild(h.serializeNode(p.text(b,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=Bh(n),xs&&Fh(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||At.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!Dh.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=zh(aa(a,+u[1],+u[2]),u[4]);else if(a=T.maxOpen(Ph(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;d<a.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);a=aa(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a,t,l)}),a}const Dh=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ph(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&Zl(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Yl(o[o.length-1],s.length));let u=Xl(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return w.from(o)}return t}function Xl(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,w.from(t));return t}function Zl(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Zl(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(w.from(Xl(n,t,i+1))))}}function Yl(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Yl(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(w.empty,!0);return t.copy(n.append(r))}function Wi(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=Wi(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(w.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function aa(t,e,n){return e<t.openStart&&(t=new T(Wi(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new T(Wi(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Ql={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let la=null;function ec(){return la||(la=document.implementation.createHTMLDocument("title"))}let wi=null;function Lh(t){let e=window.trustedTypes;return e?(wi||(wi=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),wi.createHTML(t)):t}function Bh(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=ec().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Ql[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Lh(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Fh(t){let e=t.querySelectorAll(gt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function zh(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=w.from(l.create(r[a+1],i)),s++,o++}return new T(i,s,o)}const Ue={},Oe={};function ft(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}Oe.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nc(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Un&&gt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ys&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ul(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Ih(t,n)?n.preventDefault():ft(t,"key")};Oe.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Oe.keypress=(t,e)=>{let n=e;if(nc(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ie&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof j)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Gr(t){return{left:t.clientX,top:t.clientY}}function $h(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ws(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Qt(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Uh(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&P.isSelectable(r)?(Qt(t,new P(n)),!0):!1}function jh(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof P&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(P.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Qt(t,P.create(t.state.doc,i)),!0):!1}function Hh(t,e,n,r,i){return ws(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?jh(t,n):Uh(t,n))}function Wh(t,e,n,r){return ws(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Kh(t,e,n,r){return ws(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||qh(t,n,r)}function qh(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Qt(t,j.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Qt(t,j.create(r,a+1,a+1+o.content.size));else if(P.isSelectable(o))Qt(t,P.create(r,a));else continue;return!0}}function _s(t){return Ar(t)}const tc=Ie?"metaKey":"ctrlKey";Ue.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=_s(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&$h(n,t.input.lastClick)&&!n[tc]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Gr(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Jh(t,o,n,!!r)):(s=="doubleClick"?Wh:Kh)(t,o.pos,o.inside,n)?n.preventDefault():ft(t,"pointer"))};class Jh{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[tc],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof P&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ft(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Es(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Gr(e))),this.updateAllowDefault(e),this.allowDefault||!n?ft(this.view,"pointer"):Hh(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||jt&&this.mightDrag&&!this.mightDrag.node.isAtom||gt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Qt(this.view,W.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ft(this.view,"pointer")}move(e){this.updateAllowDefault(e),ft(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ue.touchstart=t=>{t.input.lastTouch=Date.now(),_s(t),ft(t,"pointer")};Ue.touchmove=t=>{t.input.lastTouch=Date.now(),ft(t,"pointer")};Ue.contextmenu=t=>_s(t);function nc(t,e){return t.composing?!0:jt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Vh=Un?5e3:-1;Oe.compositionstart=Oe.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof j&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Ar(t,!0),t.markCursor=null;else if(Ar(t,!e.selection.empty),Vr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}rc(t,Vh)};Oe.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,rc(t,20))};function rc(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ar(t),e))}function Gh(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Xh());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Xh(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ar(t,e=!1){if(!(Un&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Gh(t),e||t.docView&&t.docView.dirty){let n=_h(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Zh(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Nn=$n&&Hl<15||ys&&wh<604;Ue.copy=Oe.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Nn?null:n.clipboardData,o=r.content(),{dom:a,text:l}=Vl(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Zh(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Yh(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Qh(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ki(t,r.value,null,i,e):Ki(t,r.textContent,r.innerHTML,i,e)},50)}function Ki(t,e,n,r,i){let s=Gl(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||T.empty)))return!0;if(!s)return!1;let o=Yh(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ic(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Oe.paste=(t,e)=>{let n=e;if(t.composing&&!Un)return;let r=Nn?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ki(t,ic(r),r.getData("text/html"),i,n)?n.preventDefault():Qh(t,n)};class em{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const tm=Ie?"altKey":"ctrlKey";function sc(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[tm]}Ue.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Gr(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof P?i.to-1:i.to))){if(r&&r.mightDrag)o=P.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=P.create(t.state.doc,f.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=Vl(t,a);(!n.dataTransfer.files.length||!gt||Wl>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Nn?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nn||n.dataTransfer.setData("text/plain",c),t.dragging=new em(u,sc(t,n),o)};Ue.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Oe.dragover=Oe.dragenter=(t,e)=>e.preventDefault();Oe.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Gr(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",h=>{o=h(o,t,!1)}):o=Gl(t,ic(n.dataTransfer),Nn?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&sc(t,n));if(t.someProp("handleDrop",h=>h(t,n,o||T.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?lh(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:h}=r;h?h.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(d))return;let p=c.doc.resolve(u);if(f&&P.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new P(p));else{let h=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((b,m,x,S)=>h=S),c.setSelection(ql(t,p,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Ue.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Es(t)},20))};Ue.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ue.beforeinput=(t,e)=>{if(gt&&Un&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ul(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Oe)Ue[t]=Oe[t];function Rn(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Mr{constructor(e,n){this.toDOM=e,this.spec=n||Mt,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Ve(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Mr&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Rn(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class dt{constructor(e,n){this.attrs=e,this.spec=n||Mt}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Ve(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof dt&&Rn(this.attrs,e.attrs)&&Rn(this.spec,e.spec)}static is(e){return e.type instanceof dt}destroy(){}}class Ss{constructor(e,n){this.attrs=e,this.spec=n||Mt}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Ve(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Ss&&Rn(this.attrs,e.attrs)&&Rn(this.spec,e.spec)}destroy(){}}class Ve{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Ve(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Ve(e,e,new Mr(n,r))}static inline(e,n,r,i){return new Ve(e,n,new dt(r,i))}static node(e,n,r,i){return new Ve(e,n,new Ss(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof dt}get widget(){return this.type instanceof Mr}}const Xt=[],Mt={};class fe{constructor(e,n){this.local=e.length?e:Xt,this.children=n.length?n:Xt}static create(e,n){return n.length?Nr(n,e,0,Mt):we}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==we||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Mt)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?nm(this.children,o||[],e,n,r,i,s):o?new fe(o.sort(Nt),Xt):we}add(e,n){return n.length?this==we?fe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=ac(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,Nr(u,a,c+1,Mt)),s+=3}});let o=oc(s?lc(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new fe(o.length?this.local.concat(o).sort(Nt):this.local,i||this.children)}remove(e){return e.length==0||this==we?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=we?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new fe(i,r):we}forChild(e,n){if(this==we)return this;if(n.isLeaf)return fe.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof dt){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new fe(i.sort(Nt),Xt);return r?new _t([a,r]):a}return r||we}eq(e){if(this==e)return!0;if(!(e instanceof fe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ks(this.localsInner(e))}localsInner(e){if(this==we)return Xt;if(e.inlineContent||!this.local.some(dt.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof dt||n.push(this.local[r]);return n}forEachSet(e){e(this)}}fe.empty=new fe([],[]);fe.removeOverlap=ks;const we=fe.empty;class _t{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Mt));return _t.from(r)}forChild(e,n){if(n.isLeaf)return fe.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=we&&(s instanceof _t?r=r.concat(s.members):r.push(s))}return _t.from(r)}eq(e){if(!(e instanceof _t)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?ks(r?n:n.sort(Nt)):Xt}static from(e){switch(e.length){case 0:return we;case 1:return e[0];default:return new _t(e.every(n=>n instanceof fe)?e:e.reduce((n,r)=>n.concat(r instanceof fe?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function nm(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let f=0;n.maps[c].forEach((d,p,h,b)=>{let m=b-h-(p-d);for(let x=0;x<a.length;x+=3){let S=a[x+1];if(S<0||d>S+u-f)continue;let v=a[x]+u-f;p>=v?a[x+1]=d<=v?-2:-1:d>=u&&m&&(a[x]+=m,a[x+1]+=m)}f+=m}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),f=u-i;if(f<0||f>=r.content.size){l=!0;continue}let d=n.map(t[c+1]+s,-1),p=d-i,{index:h,offset:b}=r.content.findIndex(f),m=r.maybeChild(h);if(m&&b==f&&b+m.nodeSize==p){let x=a[c+2].mapInner(n,m,u+1,t[c]+s+1,o);x!=we?(a[c]=f,a[c+1]=p,a[c+2]=x):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=rm(a,t,e,n,i,s,o),u=Nr(c,r,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let p=u.children[f];for(;d<a.length&&a[d]<p;)d+=3;a.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new fe(e.sort(Nt),a)}function oc(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Ve(i.from+e,i.to+e,i.type))}return n}function rm(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function ac(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function lc(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Nr(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=ac(t,a,l+n);if(c){s=!0;let u=Nr(c,a,n+l+1,r);u!=we&&i.push(l,l+a.nodeSize,u)}});let o=oc(s?lc(t):t,-n).sort(Nt);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new fe(o,i):we}function Nt(t,e){return t.from-e.from||t.to-e.to}function ks(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),ca(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),ca(e,i,r.copy(s.from,r.to)));break}}}return e}function ca(t,e,n){for(;e<t.length&&Nt(n,t[e])>0;)e++;t.splice(e,0,n)}const vs=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function cc(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const uc=(t,e,n)=>{let r=cc(t,n);if(!r)return!1;let i=Cs(r);if(!i){let o=r.blockRange(),a=o&&cn(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(xc(t,i,e,-1))return!0;if(r.parent.content.size==0&&(nn(s,"end")||P.isSelectable(s)))for(let o=r.depth;;o--){let a=qr(t.doc,r.before(o),r.after(o),T.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(nn(s,"end")?W.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):P.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},im=(t,e,n)=>{let r=cc(t,n);if(!r)return!1;let i=Cs(r);return i?fc(t,i,e):!1},sm=(t,e,n)=>{let r=pc(t,n);if(!r)return!1;let i=Ts(r);return i?fc(t,i,e):!1};function fc(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=qr(t.doc,s,l,T.empty);if(!c||c.from!=s||c instanceof de&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(j.create(u.doc,s)),n(u.scrollIntoView())}return!0}function nn(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const dc=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Cs(r)}let o=s&&s.nodeBefore;return!o||!P.isSelectable(o)?!1:(e&&e(t.tr.setSelection(P.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Cs(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function pc(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const hc=(t,e,n)=>{let r=pc(t,n);if(!r)return!1;let i=Ts(r);if(!i)return!1;let s=i.nodeAfter;if(xc(t,i,e,1))return!0;if(r.parent.content.size==0&&(nn(s,"start")||P.isSelectable(s))){let o=qr(t.doc,r.before(),r.after(),T.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(nn(s,"start")?W.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):P.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},mc=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Ts(r)}let o=s&&s.nodeAfter;return!o||!P.isSelectable(o)?!1:(e&&e(t.tr.setSelection(P.create(t.doc,s.pos)).scrollIntoView()),!0)};function Ts(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const om=(t,e)=>{let n=t.selection,r=n instanceof P,i;if(r){if(n.node.isTextblock||!$t(t.doc,n.from))return!1;i=n.from}else if(i=Kr(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(P.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},am=(t,e)=>{let n=t.selection,r;if(n instanceof P){if(n.node.isTextblock||!$t(t.doc,n.to))return!1;r=n.to}else if(r=Kr(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},lm=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&cn(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},gc=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Os(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const cm=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Os(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(W.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},bc=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Te||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Os(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(j.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},yc=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Qe(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&cn(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function um(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof P&&e.selection.node.isBlock)return!r.parentOffset||!Qe(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),a=Os(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof j||e.selection instanceof Te)&&u.deleteSelection();let f=u.mapping.map(r.pos),d=Qe(u.doc,f,s.length,s);if(d||(s[0]=a?{type:a}:null,d=Qe(u.doc,f,s.length,s)),!d)return!1;if(u.split(f,s.length,s),!l&&c&&r.node(o).type!=a){let p=u.mapping.map(r.before(o)),h=u.doc.resolve(p);a&&r.node(o-1).canReplaceWith(h.index(),h.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return n&&n(u.scrollIntoView()),!0}}const fm=um(),dm=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(P.create(t.doc,i))),!0)};function pm(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||$t(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function xc(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&pm(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,h=w.empty;for(let x=o.length-1;x>=0;x--)h=w.from(o[x].create(null,h));h=w.from(i.copy(h));let b=t.tr.step(new pe(e.pos-1,p,e.pos,p,new T(h,1,0),o.length,!0)),m=b.doc.resolve(p+2*o.length);m.nodeAfter&&m.nodeAfter.type==i.type&&$t(b.doc,m.pos)&&b.join(m.pos),n(b.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:W.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&cn(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(c&&nn(s,"start",!0)&&nn(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let b=s,m=1;for(;!b.isTextblock;b=b.firstChild)m++;if(p.canReplace(p.childCount,p.childCount,b.content)){if(n){let x=w.empty;for(let v=h.length-1;v>=0;v--)x=w.from(h[v].copy(x));let S=t.tr.step(new pe(e.pos-h.length,e.pos+s.nodeSize,e.pos+m,e.pos+s.nodeSize-m,new T(x,h.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function Ec(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(j.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const hm=Ec(-1),mm=Ec(1);function gm(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Al(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function ua(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function As(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}As(vs,uc,dc);As(vs,hc,mc);As(gc,bc,yc,fm);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function bm(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return ym(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function ym(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new kr(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new kr(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Al(s,n,r,e);return a?(t&&xm(t,e,a,i,n),!0):!1}function xm(t,e,n,r,i){let s=w.empty;for(let u=n.length-1;u>=0;u--)s=w.from(n[u].type.create(n[u].attrs,s));t.step(new pe(e.start-(r?2:0),e.end,e.start,e.end,new T(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&Qe(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Em(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?wm(e,n,t,s):_m(e,n,s):!0:!1}}function wm(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new pe(s-1,o,s,o,new T(w.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new kr(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=cn(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return $t(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function _m(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,b=n.startIndex;h>b;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?w.empty:w.from(i))))return!1;let f=s.pos,d=f+o.nodeSize;return r.step(new pe(f-(a?1:0),d+(l?1:0),f+1,d-1,new T((a?w.empty:w.from(i.copy(w.empty))).append(l?w.empty:w.from(i.copy(w.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Sm(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=w.from(c?t.create():null),f=new T(w.from(t.create(null,w.from(a.type.create(null,u)))),c?3:1,0),d=s.start,p=s.end;n(e.tr.step(new pe(d-(c?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}var km=Object.defineProperty,wc=(t,e)=>{for(var n in e)km(t,n,{get:e[n],enumerable:!0})};function _c(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var vm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const u=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(n).map(([f,d])=>[f,(...h)=>{const b=this.buildProps(l,e),m=d(...h)(b);return o.push(m),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:_c({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}};function Cm(t,e){const n=new mh(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var Sc=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Sc(r)}return t};function rr(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Sc(n)}function In(t,e,n){if(t instanceof Ge||t instanceof w)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return w.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),In("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new Fp({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?At.fromSchema(l).parseSlice(rr(t),n.parseOptions):At.fromSchema(l).parse(rr(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=At.fromSchema(e);return n.slice?s.parseSlice(rr(t),n.parseOptions).content:s.parse(rr(t),n.parseOptions)}return In("",e,n)}function Tm(t,e,n={},r={}){return In(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function Om(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function qi(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function Am(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Ms(t){return e=>Am(e.$from,t)}function Dn(t,e,n){return t.config[e]===void 0&&t.parent?Dn(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Dn(t.parent,e,n):null}):t.config[e]}function Mm(t){return typeof t=="function"}function rn(t,e=void 0,...n){return Mm(t)?e?t.bind(e)(...n):t(...n):t}function Nm(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function kc(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,d]=u.split(":").map(p=>p.trim());c.set(f,d)}),a.forEach(u=>{const[f,d]=u.split(":").map(p=>p.trim());c.set(f,d)}),r[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else r[i]=s}),r},{})}function Rm(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,f)=>{var d;l.isBlock&&c>r&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:f,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)==null?void 0:d.slice(Math.max(r,c)-c,i-c))}),a}function Im(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function bt(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function Dm(t,e){const n=bt(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function ye(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function vc(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Pm(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Lm(t){const e=Pm(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Bm(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),f=e.invert().map(c,-1),d=e.invert().map(u);r.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),Lm(r)}function Fm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Rr(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Fm(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Cc(t,e,n={}){return t.find(r=>r.type===e&&Rr(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function fa(t,e,n={}){return!!Cc(t,e,n)}function Tc(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Cc([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&fa([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&fa([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function br(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function zm(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?bt(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>Rr(f.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:d})=>{const p=f.pos,h=d.pos;t.doc.nodesBetween(p,h,(b,m)=>{if(!b.isText&&!b.marks.length)return;const x=Math.max(p,m),S=Math.min(h,m+b.nodeSize),v=S-x;o+=v,a.push(...b.marks.map(A=>({mark:A,from:x,to:S})))})}),o===0)return!1;const l=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>Rr(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+c:l)>=o}function Ns(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?ye(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const p=Math.max(r,d),h=Math.min(i,d+f.nodeSize);a.push({node:f,from:p,to:h})});const l=i-r,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>Rr(f.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=l}function da(t,e){const{nodeExtensions:n}=Nm(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=rn(Dn(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Oc(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Oc(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function Ac(t){return t instanceof j}function kt(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function $m(t,e=null){if(!e)return null;const n=W.atStart(t),r=W.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?j.create(t,kt(0,i,s),kt(t.content.size,i,s)):j.create(t,kt(e,i,s),kt(e,i,s))}function Um(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof de||i instanceof pe))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(W.near(t.doc.resolve(o),n))}var jm=class{constructor(t){this.find=t.find,this.handler=t.handler}};function Hm(t){return Object.prototype.toString.call(t).slice(8,-1)}function ir(t){return Hm(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Mc(t,e){const n={...t};return ir(t)&&ir(e)&&Object.keys(e).forEach(r=>{ir(e[r])&&ir(t[r])?n[r]=Mc(t[r],e[r]):n[r]=e[r]}),n}var Nc=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...rn(Dn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...rn(Dn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Mc(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Wm=class{constructor(t){this.find=t.find,this.handler=t.handler}},Km={};wc(Km,{ClipboardTextSerializer:()=>qm,Commands:()=>tb,Delete:()=>nb,Drop:()=>rb,Editable:()=>ib,FocusEvents:()=>sb,Keymap:()=>ob,Paste:()=>ab,Tabindex:()=>lb,focusEventsPluginKey:()=>Pc});var rt=class Rc extends Nc{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Rc(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},qm=rt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new tt({key:new nt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=Im(n);return Rm(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Ic={};wc(Ic,{blur:()=>Jm,clearContent:()=>Vm,clearNodes:()=>Gm,command:()=>Xm,createParagraphNear:()=>Zm,cut:()=>Ym,deleteCurrentNode:()=>Qm,deleteNode:()=>eg,deleteRange:()=>tg,deleteSelection:()=>ng,enter:()=>rg,exitCode:()=>ig,extendMarkRange:()=>sg,first:()=>og,focus:()=>lg,forEach:()=>cg,insertContent:()=>ug,insertContentAt:()=>dg,joinBackward:()=>mg,joinDown:()=>hg,joinForward:()=>gg,joinItemBackward:()=>bg,joinItemForward:()=>yg,joinTextblockBackward:()=>xg,joinTextblockForward:()=>Eg,joinUp:()=>pg,keyboardShortcut:()=>_g,lift:()=>Sg,liftEmptyBlock:()=>kg,liftListItem:()=>vg,newlineInCode:()=>Cg,resetAttributes:()=>Tg,scrollIntoView:()=>Og,selectAll:()=>Ag,selectNodeBackward:()=>Mg,selectNodeForward:()=>Ng,selectParentNode:()=>Rg,selectTextblockEnd:()=>Ig,selectTextblockStart:()=>Dg,setContent:()=>Pg,setMark:()=>Bg,setMeta:()=>Fg,setNode:()=>zg,setNodeSelection:()=>$g,setTextSelection:()=>Ug,sinkListItem:()=>jg,splitBlock:()=>Hg,splitListItem:()=>Wg,toggleList:()=>Kg,toggleMark:()=>qg,toggleNode:()=>Jg,toggleWrap:()=>Vg,undoInputRule:()=>Gg,unsetAllMarks:()=>Xg,unsetMark:()=>Zg,updateAttributes:()=>Yg,wrapIn:()=>Qg,wrapInList:()=>eb});var Jm=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),Vm=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Gm=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),d=c.resolve(u.map(l+a.nodeSize)),p=f.blockRange(d);if(!p)return;const h=cn(p);if(a.type.isTextblock){const{defaultType:b}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,b)}(h||h===0)&&e.lift(p,h)})}),!0},Xm=t=>e=>t(e),Zm=()=>({state:t,dispatch:e})=>bc(t,e),Ym=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new j(r.doc.resolve(Math.max(o-1,0)))),!0},Qm=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},eg=t=>({tr:e,state:n,dispatch:r})=>{const i=ye(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},tg=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},ng=()=>({state:t,dispatch:e})=>vs(t,e),rg=()=>({commands:t})=>t.keyboardShortcut("Enter"),ig=()=>({state:t,dispatch:e})=>cm(t,e),sg=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=bt(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const f=Tc(l,s,e);if(f&&f.from<=c&&f.to>=u){const d=j.create(o,f.from,f.to);n.setSelection(d)}}return!0},og=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function ag(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Rs(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var lg=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Rs()||ag())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Ac(n.state.selection))return o(),!0;const a=$m(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},cg=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),ug=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),fg=t=>!("type"in t),dg=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=m=>{s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{In(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(m){l(m)}try{a=In(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(m){return l(m),!1}let{from:u,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,p=!0;if((fg(a)?a:[a]).forEach(m=>{m.check(),d=d?m.isText&&m.marks.length===0:!1,p=p?m.isBlock:!1}),u===f&&p){const{parent:m}=r.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,f+=1)}let b;if(d){if(Array.isArray(e))b=e.map(m=>m.text||"").join("");else if(e instanceof w){let m="";e.forEach(x=>{x.text&&(m+=x.text)}),b=m}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,u,f)}else{b=a;const m=r.doc.resolve(u),x=m.node(),S=m.parentOffset===0,v=x.isText||x.isTextblock,A=x.content.size>0;S&&v&&A&&(u=Math.max(0,u-1)),r.replaceWith(u,f,b)}n.updateSelection&&Um(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:b})}return!0},pg=()=>({state:t,dispatch:e})=>om(t,e),hg=()=>({state:t,dispatch:e})=>am(t,e),mg=()=>({state:t,dispatch:e})=>uc(t,e),gg=()=>({state:t,dispatch:e})=>hc(t,e),bg=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kr(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},yg=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kr(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},xg=()=>({state:t,dispatch:e})=>im(t,e),Eg=()=>({state:t,dispatch:e})=>sm(t,e);function Dc(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function wg(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Rs()||Dc()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var _g=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=wg(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0},Sg=(t,e={})=>({state:n,dispatch:r})=>{const i=ye(t,n.schema);return Ns(n,i,e)?lm(n,r):!1},kg=()=>({state:t,dispatch:e})=>yc(t,e),vg=t=>({state:e,dispatch:n})=>{const r=ye(t,e.schema);return Em(r)(e,n)},Cg=()=>({state:t,dispatch:e})=>gc(t,e);function pa(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var Tg=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=vc(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=ye(t,r.schema)),a==="mark"&&(o=bt(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,pa(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&n.addMark(u,u+c.nodeSize,o.create(pa(f.attrs,e)))})})}),!0):!1},Og=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Ag=()=>({tr:t,dispatch:e})=>{if(e){const n=new Te(t.doc);t.setSelection(n)}return!0},Mg=()=>({state:t,dispatch:e})=>dc(t,e),Ng=()=>({state:t,dispatch:e})=>mc(t,e),Rg=()=>({state:t,dispatch:e})=>dm(t,e),Ig=()=>({state:t,dispatch:e})=>mm(t,e),Dg=()=>({state:t,dispatch:e})=>hm(t,e),Pg=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=Tm(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Lg(t,e,n){var r;const{selection:i}=e;let s=null;if(Ac(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,f,d)=>{if(c)return!1;if(u.isInline){const p=!d||d.type.allowsMarkType(n),h=!!n.isInSet(u.marks)||!u.marks.some(b=>b.type.excludes(n));c=p&&h}return!c}),c})}var Bg=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=bt(t,r.schema);if(i)if(o){const c=Dm(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(d,p)=>{const h=Math.max(p,u),b=Math.min(p+d.nodeSize,f);d.marks.find(x=>x.type===l)?d.marks.forEach(x=>{l===x.type&&n.addMark(h,b,l.create({...x.attrs,...e}))}):n.addMark(h,b,l.create(e))})});return Lg(r,n,l)},Fg=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),zg=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=ye(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>ua(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>ua(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$g=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=kt(t,0,r.content.size),s=P.create(r,i);e.setSelection(s)}return!0},Ug=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=j.atStart(r).from,a=j.atEnd(r).to,l=kt(i,o,a),c=kt(s,o,a),u=j.create(r,l,c);e.setSelection(u)}return!0},jg=t=>({state:e,dispatch:n})=>{const r=ye(t,e.schema);return Sm(r)(e,n)};function ha(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var Hg=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=br(c,a.node().type.name,a.node().attrs);if(s instanceof P&&s.node.isBlock)return!a.parentOffset||!Qe(o,a.pos)?!1:(r&&(t&&ha(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:Om(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=f&&d?[{type:d,attrs:u}]:void 0,h=Qe(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!h&&Qe(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(h=!0,p=d?[{type:d,attrs:u}]:void 0),r){if(h&&(s instanceof j&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),d&&!f&&!a.parentOffset&&a.parent.type!==d)){const b=e.mapping.map(a.before()),m=e.doc.resolve(b);a.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}t&&ha(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},Wg=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=ye(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let x=w.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let K=l.depth-S;K>=l.depth-3;K-=1)x=w.from(l.node(K).copy(x));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,A={...br(d,l.node().type.name,l.node().attrs),...e},N=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(A))||void 0;x=x.append(w.from(a.createAndFill(null,N)||void 0));const L=l.before(l.depth-(S-1));n.replace(L,l.after(-v),new T(x,4-S,0));let I=-1;n.doc.nodesBetween(L,n.doc.content.size,(K,Q)=>{if(I>-1)return!1;K.isTextblock&&K.content.size===0&&(I=Q+1)}),I>-1&&n.setSelection(j.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,h={...br(d,f.type.name,f.attrs),...e},b={...br(d,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const m=p?[{type:a,attrs:h},{type:p,attrs:b}]:[{type:a,attrs:h}];if(!Qe(n.doc,l.pos,2))return!1;if(i){const{selection:x,storedMarks:S}=r,{splittableMarks:v}=s.extensionManager,A=S||x.$to.parentOffset&&x.$from.marks();if(n.split(l.pos,2,m).scrollIntoView(),!A||!i)return!0;const N=A.filter(L=>v.includes(L.type.name));n.ensureMarks(N)}return!0},_i=(t,e)=>{const n=Ms(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&$t(t.doc,n.pos)&&t.join(n.pos),!0},Si=(t,e)=>{const n=Ms(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&$t(t.doc,r)&&t.join(r),!0},Kg=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,p=ye(t,o.schema),h=ye(e,o.schema),{selection:b,storedMarks:m}=o,{$from:x,$to:S}=b,v=x.blockRange(S),A=m||b.$to.parentOffset&&b.$from.marks();if(!v)return!1;const N=Ms(L=>da(L.type.name,f))(b);if(v.depth>=1&&N&&v.depth-N.depth<=1){if(N.node.type===p)return c.liftListItem(h);if(da(N.node.type.name,f)&&p.validContent(N.node.content)&&a)return l().command(()=>(s.setNodeMarkup(N.pos,p),!0)).command(()=>_i(s,p)).command(()=>Si(s,p)).run()}return!n||!A||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>_i(s,p)).command(()=>Si(s,p)).run():l().command(()=>{const L=u().wrapInList(p,r),I=A.filter(K=>d.includes(K.type.name));return s.ensureMarks(I),L?!0:c.clearNodes()}).wrapInList(p,r).command(()=>_i(s,p)).command(()=>Si(s,p)).run()},qg=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=bt(t,r.schema);return zm(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},Jg=(t,e,n={})=>({state:r,commands:i})=>{const s=ye(t,r.schema),o=ye(e,r.schema),a=Ns(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},Vg=(t,e={})=>({state:n,commands:r})=>{const i=ye(t,n.schema);return Ns(n,i,e)?r.lift(i):r.wrapIn(i,e)},Gg=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Xg=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Zg=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=bt(t,r.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&o){let{from:d,to:p}=a;const h=(s=c.marks().find(m=>m.type===l))==null?void 0:s.attrs,b=Tc(c,l,h);b&&(d=b.from,p=b.to),n.removeMark(d,p,l)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,l)});return n.removeStoredMark(l),!0},Yg=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=vc(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=ye(t,r.schema)),a==="mark"&&(o=bt(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,d,p,h;n.selection.empty?r.doc.nodesBetween(c,u,(b,m)=>{s&&s===b.type&&(p=Math.max(m,c),h=Math.min(m+b.nodeSize,u),f=m,d=b)}):r.doc.nodesBetween(c,u,(b,m)=>{m<c&&s&&s===b.type&&(p=Math.max(m,c),h=Math.min(m+b.nodeSize,u),f=m,d=b),m>=c&&m<=u&&(s&&s===b.type&&n.setNodeMarkup(m,void 0,{...b.attrs,...e}),o&&b.marks.length&&b.marks.forEach(x=>{if(o===x.type){const S=Math.max(m,c),v=Math.min(m+b.nodeSize,u);n.addMark(S,v,o.create({...x.attrs,...e}))}}))}),d&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(b=>{o===b.type&&n.addMark(p,h,o.create({...b.attrs,...e}))}))}),!0):!1},Qg=(t,e={})=>({state:n,dispatch:r})=>{const i=ye(t,n.schema);return gm(i,e)(n,r)},eb=(t,e={})=>({state:n,dispatch:r})=>{const i=ye(t,n.schema);return bm(i,e)(n,r)},tb=rt.create({name:"commands",addCommands(){return{...Ic}}}),nb=rt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=Cm(t.before,[t,...e]);Bm(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(h,b)=>{const m=b+h.nodeSize-2,x=p.oldRange.from<=b&&m<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:h,from:b,to:m,newFrom:u.mapping.map(b),newTo:u.mapping.map(m),deletedRange:p.oldRange,newRange:p.newRange,partial:!x,editor:this.editor,transaction:t,combinedTransform:u})})});const d=u.mapping;u.steps.forEach((p,h)=>{var b,m;if(p instanceof Fe){const x=d.slice(h).map(p.from,-1),S=d.slice(h).map(p.to),v=d.invert().map(x,-1),A=d.invert().map(S),N=(b=u.doc.nodeAt(x-1))==null?void 0:b.marks.some(I=>I.eq(p.mark)),L=(m=u.doc.nodeAt(S))==null?void 0:m.marks.some(I=>I.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:v,to:A},newRange:{from:x,to:S},partial:!!(L||N),editor:this.editor,transaction:t,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),rb=rt.create({name:"drop",addProseMirrorPlugins(){return[new tt({key:new nt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),ib=rt.create({name:"editable",addProseMirrorPlugins(){return[new tt({key:new nt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Pc=new nt("focusEvents"),sb=rt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new tt({key:Pc,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ob=rt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:d,parent:p}=f,h=f.parent.isTextblock&&d>0?a.doc.resolve(d-1):f,b=h.parent.type.spec.isolating,m=f.pos-f.parentOffset,x=b&&h.parent.childCount===1?m===f.pos:W.atStart(c).from===d;return!u||!p.type.isTextblock||p.textContent.length||!x||x&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Rs()||Dc()?s:i},addProseMirrorPlugins(){return[new tt({key:new nt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const r=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),i=t.some(b=>b.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=W.atStart(e.doc).from,c=W.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Oc(n.doc))return;const d=n.tr,p=_c({state:n,transaction:d}),{commands:h}=new vm({editor:this.editor,state:p});if(h.clearNodes(),!!d.steps.length)return d}})]}}),ab=rt.create({name:"paste",addProseMirrorPlugins(){return[new tt({key:new nt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),lb=rt.create({name:"tabindex",addProseMirrorPlugins(){return[new tt({key:new nt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});function ma(t){return new jm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=rn(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}var Lc=class Bc extends Nc{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Bc(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function cb(t){return new Wm({find:t.find,handler({match:e,chain:n,range:r,pasteEvent:i}){const s=rn(t.getAttributes,void 0,e,i),o=rn(t.getContent,void 0,s);if(s===!1||s===null)return null;const a={type:t.type.name,attrs:s};o&&(a.content=o),e.input&&n().deleteRange(r).insertContentAt(r.from,a)}})}var ub=/^```([a-z]+)?[\s\n]$/,fb=/^~~~([a-z]+)?[\s\n]$/,db=Lc.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",kc(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(r.parent.type!==this.type)return!1;const s=" ".repeat(this.options.tabSize);return i?t.commands.insertContent(s):t.commands.command(({tr:o})=>{const{from:a,to:l}=n,f=e.doc.textBetween(a,l,`
`,`
`).split(`
`).map(d=>s+d).join(`
`);return o.replaceWith(a,l,e.schema.text(f)),!0})},"Shift-Tab":({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;return r.parent.type!==this.type?!1:i?t.commands.command(({tr:s})=>{var o;const{pos:a}=r,l=r.start(),c=r.end(),f=e.doc.textBetween(l,c,`
`,`
`).split(`
`);let d=0,p=0;const h=a-l;for(let A=0;A<f.length;A+=1){if(p+f[A].length>=h){d=A;break}p+=f[A].length+1}const m=((o=f[d].match(/^ */))==null?void 0:o[0])||"",x=Math.min(m.length,this.options.tabSize);if(x===0)return!0;let S=l;for(let A=0;A<d;A+=1)S+=f[A].length+1;return s.delete(S,S+x),a-S<=x&&s.setSelection(j.create(s.doc,S)),!0}):t.commands.command(({tr:s})=>{const{from:o,to:a}=n,u=e.doc.textBetween(o,a,`
`,`
`).split(`
`).map(f=>{var d;const p=((d=f.match(/^ */))==null?void 0:d[0])||"",h=Math.min(p.length,this.options.tabSize);return f.slice(h)}).join(`
`);return s.replaceWith(o,a,e.schema.text(u)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(W.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[ma({find:ub,type:this.type,getAttributes:t=>({language:t[1]})}),ma({find:fb,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new tt({key:new nt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(j.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),pb=db;function hb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ki,ga;function mb(){if(ga)return ki;ga=1;function t(g){return g instanceof Map?g.clear=g.delete=g.set=function(){throw new Error("map is read-only")}:g instanceof Set&&(g.add=g.clear=g.delete=function(){throw new Error("set is read-only")}),Object.freeze(g),Object.getOwnPropertyNames(g).forEach(E=>{const k=g[E],F=typeof k;(F==="object"||F==="function")&&!Object.isFrozen(k)&&t(k)}),g}class e{constructor(E){E.data===void 0&&(E.data={}),this.data=E.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(g,...E){const k=Object.create(null);for(const F in g)k[F]=g[F];return E.forEach(function(F){for(const ne in F)k[ne]=F[ne]}),k}const i="</span>",s=g=>!!g.scope,o=(g,{prefix:E})=>{if(g.startsWith("language:"))return g.replace("language:","language-");if(g.includes(".")){const k=g.split(".");return[`${E}${k.shift()}`,...k.map((F,ne)=>`${F}${"_".repeat(ne+1)}`)].join(" ")}return`${E}${g}`};class a{constructor(E,k){this.buffer="",this.classPrefix=k.classPrefix,E.walk(this)}addText(E){this.buffer+=n(E)}openNode(E){if(!s(E))return;const k=o(E.scope,{prefix:this.classPrefix});this.span(k)}closeNode(E){s(E)&&(this.buffer+=i)}value(){return this.buffer}span(E){this.buffer+=`<span class="${E}">`}}const l=(g={})=>{const E={children:[]};return Object.assign(E,g),E};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(E){this.top.children.push(E)}openNode(E){const k=l({scope:E});this.add(k),this.stack.push(k)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(E){return this.constructor._walk(E,this.rootNode)}static _walk(E,k){return typeof k=="string"?E.addText(k):k.children&&(E.openNode(k),k.children.forEach(F=>this._walk(E,F)),E.closeNode(k)),E}static _collapse(E){typeof E!="string"&&E.children&&(E.children.every(k=>typeof k=="string")?E.children=[E.children.join("")]:E.children.forEach(k=>{c._collapse(k)}))}}class u extends c{constructor(E){super(),this.options=E}addText(E){E!==""&&this.add(E)}startScope(E){this.openNode(E)}endScope(){this.closeNode()}__addSublanguage(E,k){const F=E.root;k&&(F.scope=`language:${k}`),this.add(F)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(g){return g?typeof g=="string"?g:g.source:null}function d(g){return b("(?=",g,")")}function p(g){return b("(?:",g,")*")}function h(g){return b("(?:",g,")?")}function b(...g){return g.map(k=>f(k)).join("")}function m(g){const E=g[g.length-1];return typeof E=="object"&&E.constructor===Object?(g.splice(g.length-1,1),E):{}}function x(...g){return"("+(m(g).capture?"":"?:")+g.map(F=>f(F)).join("|")+")"}function S(g){return new RegExp(g.toString()+"|").exec("").length-1}function v(g,E){const k=g&&g.exec(E);return k&&k.index===0}const A=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function N(g,{joinWith:E}){let k=0;return g.map(F=>{k+=1;const ne=k;let re=f(F),M="";for(;re.length>0;){const O=A.exec(re);if(!O){M+=re;break}M+=re.substring(0,O.index),re=re.substring(O.index+O[0].length),O[0][0]==="\\"&&O[1]?M+="\\"+String(Number(O[1])+ne):(M+=O[0],O[0]==="("&&k++)}return M}).map(F=>`(${F})`).join(E)}const L=/\b\B/,I="[a-zA-Z]\\w*",K="[a-zA-Z_]\\w*",Q="\\b\\d+(\\.\\d+)?",Me="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",He="\\b(0b[01]+)",Pe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ne=(g={})=>{const E=/^#![ ]*\//;return g.binary&&(g.begin=b(E,/.*\b/,g.binary,/\b.*/)),r({scope:"meta",begin:E,end:/$/,relevance:0,"on:begin":(k,F)=>{k.index!==0&&F.ignoreMatch()}},g)},Y={begin:"\\\\[\\s\\S]",relevance:0},ce={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Y]},te={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Y]},Wt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},V=function(g,E,k={}){const F=r({scope:"comment",begin:g,end:E,contains:[]},k);F.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const ne=x("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return F.contains.push({begin:b(/[ ]+/,"(",ne,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),F},Le=V("//","$"),Ze=V("/\\*","\\*/"),Ee=V("#","$"),Re={scope:"number",begin:Q,relevance:0},it={scope:"number",begin:Me,relevance:0},Kt={scope:"number",begin:He,relevance:0},Kn={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Y,{begin:/\[/,end:/\]/,relevance:0,contains:[Y]}]},af={scope:"title",begin:I,relevance:0},lf={scope:"title",begin:K,relevance:0},cf={begin:"\\.\\s*"+K,relevance:0};var qn=Object.freeze({__proto__:null,APOS_STRING_MODE:ce,BACKSLASH_ESCAPE:Y,BINARY_NUMBER_MODE:Kt,BINARY_NUMBER_RE:He,COMMENT:V,C_BLOCK_COMMENT_MODE:Ze,C_LINE_COMMENT_MODE:Le,C_NUMBER_MODE:it,C_NUMBER_RE:Me,END_SAME_AS_BEGIN:function(g){return Object.assign(g,{"on:begin":(E,k)=>{k.data._beginMatch=E[1]},"on:end":(E,k)=>{k.data._beginMatch!==E[1]&&k.ignoreMatch()}})},HASH_COMMENT_MODE:Ee,IDENT_RE:I,MATCH_NOTHING_RE:L,METHOD_GUARD:cf,NUMBER_MODE:Re,NUMBER_RE:Q,PHRASAL_WORDS_MODE:Wt,QUOTE_STRING_MODE:te,REGEXP_MODE:Kn,RE_STARTERS_RE:Pe,SHEBANG:Ne,TITLE_MODE:af,UNDERSCORE_IDENT_RE:K,UNDERSCORE_TITLE_MODE:lf});function uf(g,E){g.input[g.index-1]==="."&&E.ignoreMatch()}function ff(g,E){g.className!==void 0&&(g.scope=g.className,delete g.className)}function df(g,E){E&&g.beginKeywords&&(g.begin="\\b("+g.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",g.__beforeBegin=uf,g.keywords=g.keywords||g.beginKeywords,delete g.beginKeywords,g.relevance===void 0&&(g.relevance=0))}function pf(g,E){Array.isArray(g.illegal)&&(g.illegal=x(...g.illegal))}function hf(g,E){if(g.match){if(g.begin||g.end)throw new Error("begin & end are not supported with match");g.begin=g.match,delete g.match}}function mf(g,E){g.relevance===void 0&&(g.relevance=1)}const gf=(g,E)=>{if(!g.beforeMatch)return;if(g.starts)throw new Error("beforeMatch cannot be used with starts");const k=Object.assign({},g);Object.keys(g).forEach(F=>{delete g[F]}),g.keywords=k.keywords,g.begin=b(k.beforeMatch,d(k.begin)),g.starts={relevance:0,contains:[Object.assign(k,{endsParent:!0})]},g.relevance=0,delete k.beforeMatch},bf=["of","and","for","in","not","or","if","then","parent","list","value"],yf="keyword";function eo(g,E,k=yf){const F=Object.create(null);return typeof g=="string"?ne(k,g.split(" ")):Array.isArray(g)?ne(k,g):Object.keys(g).forEach(function(re){Object.assign(F,eo(g[re],E,re))}),F;function ne(re,M){E&&(M=M.map(O=>O.toLowerCase())),M.forEach(function(O){const B=O.split("|");F[B[0]]=[re,xf(B[0],B[1])]})}}function xf(g,E){return E?Number(E):Ef(g)?0:1}function Ef(g){return bf.includes(g.toLowerCase())}const to={},xt=g=>{console.error(g)},no=(g,...E)=>{console.log(`WARN: ${g}`,...E)},qt=(g,E)=>{to[`${g}/${E}`]||(console.log(`Deprecated as of ${g}. ${E}`),to[`${g}/${E}`]=!0)},Jn=new Error;function ro(g,E,{key:k}){let F=0;const ne=g[k],re={},M={};for(let O=1;O<=E.length;O++)M[O+F]=ne[O],re[O+F]=!0,F+=S(E[O-1]);g[k]=M,g[k]._emit=re,g[k]._multi=!0}function wf(g){if(Array.isArray(g.begin)){if(g.skip||g.excludeBegin||g.returnBegin)throw xt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Jn;if(typeof g.beginScope!="object"||g.beginScope===null)throw xt("beginScope must be object"),Jn;ro(g,g.begin,{key:"beginScope"}),g.begin=N(g.begin,{joinWith:""})}}function _f(g){if(Array.isArray(g.end)){if(g.skip||g.excludeEnd||g.returnEnd)throw xt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Jn;if(typeof g.endScope!="object"||g.endScope===null)throw xt("endScope must be object"),Jn;ro(g,g.end,{key:"endScope"}),g.end=N(g.end,{joinWith:""})}}function Sf(g){g.scope&&typeof g.scope=="object"&&g.scope!==null&&(g.beginScope=g.scope,delete g.scope)}function kf(g){Sf(g),typeof g.beginScope=="string"&&(g.beginScope={_wrap:g.beginScope}),typeof g.endScope=="string"&&(g.endScope={_wrap:g.endScope}),wf(g),_f(g)}function vf(g){function E(M,O){return new RegExp(f(M),"m"+(g.case_insensitive?"i":"")+(g.unicodeRegex?"u":"")+(O?"g":""))}class k{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(O,B){B.position=this.position++,this.matchIndexes[this.matchAt]=B,this.regexes.push([B,O]),this.matchAt+=S(O)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const O=this.regexes.map(B=>B[1]);this.matcherRe=E(N(O,{joinWith:"|"}),!0),this.lastIndex=0}exec(O){this.matcherRe.lastIndex=this.lastIndex;const B=this.matcherRe.exec(O);if(!B)return null;const ue=B.findIndex((mn,ii)=>ii>0&&mn!==void 0),se=this.matchIndexes[ue];return B.splice(0,ue),Object.assign(B,se)}}class F{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(O){if(this.multiRegexes[O])return this.multiRegexes[O];const B=new k;return this.rules.slice(O).forEach(([ue,se])=>B.addRule(ue,se)),B.compile(),this.multiRegexes[O]=B,B}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(O,B){this.rules.push([O,B]),B.type==="begin"&&this.count++}exec(O){const B=this.getMatcher(this.regexIndex);B.lastIndex=this.lastIndex;let ue=B.exec(O);if(this.resumingScanAtSamePosition()&&!(ue&&ue.index===this.lastIndex)){const se=this.getMatcher(0);se.lastIndex=this.lastIndex+1,ue=se.exec(O)}return ue&&(this.regexIndex+=ue.position+1,this.regexIndex===this.count&&this.considerAll()),ue}}function ne(M){const O=new F;return M.contains.forEach(B=>O.addRule(B.begin,{rule:B,type:"begin"})),M.terminatorEnd&&O.addRule(M.terminatorEnd,{type:"end"}),M.illegal&&O.addRule(M.illegal,{type:"illegal"}),O}function re(M,O){const B=M;if(M.isCompiled)return B;[ff,hf,kf,gf].forEach(se=>se(M,O)),g.compilerExtensions.forEach(se=>se(M,O)),M.__beforeBegin=null,[df,pf,mf].forEach(se=>se(M,O)),M.isCompiled=!0;let ue=null;return typeof M.keywords=="object"&&M.keywords.$pattern&&(M.keywords=Object.assign({},M.keywords),ue=M.keywords.$pattern,delete M.keywords.$pattern),ue=ue||/\w+/,M.keywords&&(M.keywords=eo(M.keywords,g.case_insensitive)),B.keywordPatternRe=E(ue,!0),O&&(M.begin||(M.begin=/\B|\b/),B.beginRe=E(B.begin),!M.end&&!M.endsWithParent&&(M.end=/\B|\b/),M.end&&(B.endRe=E(B.end)),B.terminatorEnd=f(B.end)||"",M.endsWithParent&&O.terminatorEnd&&(B.terminatorEnd+=(M.end?"|":"")+O.terminatorEnd)),M.illegal&&(B.illegalRe=E(M.illegal)),M.contains||(M.contains=[]),M.contains=[].concat(...M.contains.map(function(se){return Cf(se==="self"?M:se)})),M.contains.forEach(function(se){re(se,B)}),M.starts&&re(M.starts,O),B.matcher=ne(B),B}if(g.compilerExtensions||(g.compilerExtensions=[]),g.contains&&g.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return g.classNameAliases=r(g.classNameAliases||{}),re(g)}function io(g){return g?g.endsWithParent||io(g.starts):!1}function Cf(g){return g.variants&&!g.cachedVariants&&(g.cachedVariants=g.variants.map(function(E){return r(g,{variants:null},E)})),g.cachedVariants?g.cachedVariants:io(g)?r(g,{starts:g.starts?r(g.starts):null}):Object.isFrozen(g)?r(g):g}var Tf="11.11.1";class Of extends Error{constructor(E,k){super(E),this.name="HTMLInjectionError",this.html=k}}const ri=n,so=r,oo=Symbol("nomatch"),Af=7,ao=function(g){const E=Object.create(null),k=Object.create(null),F=[];let ne=!0;const re="Could not find the language '{}', did you forget to load/include a language module?",M={disableAutodetect:!0,name:"Plain text",contains:[]};let O={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function B(_){return O.noHighlightRe.test(_)}function ue(_){let D=_.className+" ";D+=_.parentNode?_.parentNode.className:"";const H=O.languageDetectRe.exec(D);if(H){const G=st(H[1]);return G||(no(re.replace("{}",H[1])),no("Falling back to no-highlight mode for this block.",_)),G?H[1]:"no-highlight"}return D.split(/\s+/).find(G=>B(G)||st(G))}function se(_,D,H){let G="",le="";typeof D=="object"?(G=_,H=D.ignoreIllegals,le=D.language):(qt("10.7.0","highlight(lang, code, ...args) has been deprecated."),qt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),le=_,G=D),H===void 0&&(H=!0);const Be={code:G,language:le};Gn("before:highlight",Be);const ot=Be.result?Be.result:mn(Be.language,Be.code,H);return ot.code=Be.code,Gn("after:highlight",ot),ot}function mn(_,D,H,G){const le=Object.create(null);function Be(C,R){return C.keywords[R]}function ot(){if(!z.keywords){he.addText(X);return}let C=0;z.keywordPatternRe.lastIndex=0;let R=z.keywordPatternRe.exec(X),U="";for(;R;){U+=X.substring(C,R.index);const q=Ke.case_insensitive?R[0].toLowerCase():R[0],ge=Be(z,q);if(ge){const[Ye,qf]=ge;if(he.addText(U),U="",le[q]=(le[q]||0)+1,le[q]<=Af&&(Yn+=qf),Ye.startsWith("_"))U+=R[0];else{const Jf=Ke.classNameAliases[Ye]||Ye;We(R[0],Jf)}}else U+=R[0];C=z.keywordPatternRe.lastIndex,R=z.keywordPatternRe.exec(X)}U+=X.substring(C),he.addText(U)}function Xn(){if(X==="")return;let C=null;if(typeof z.subLanguage=="string"){if(!E[z.subLanguage]){he.addText(X);return}C=mn(z.subLanguage,X,!0,go[z.subLanguage]),go[z.subLanguage]=C._top}else C=si(X,z.subLanguage.length?z.subLanguage:null);z.relevance>0&&(Yn+=C.relevance),he.__addSublanguage(C._emitter,C.language)}function ve(){z.subLanguage!=null?Xn():ot(),X=""}function We(C,R){C!==""&&(he.startScope(R),he.addText(C),he.endScope())}function fo(C,R){let U=1;const q=R.length-1;for(;U<=q;){if(!C._emit[U]){U++;continue}const ge=Ke.classNameAliases[C[U]]||C[U],Ye=R[U];ge?We(Ye,ge):(X=Ye,ot(),X=""),U++}}function po(C,R){return C.scope&&typeof C.scope=="string"&&he.openNode(Ke.classNameAliases[C.scope]||C.scope),C.beginScope&&(C.beginScope._wrap?(We(X,Ke.classNameAliases[C.beginScope._wrap]||C.beginScope._wrap),X=""):C.beginScope._multi&&(fo(C.beginScope,R),X="")),z=Object.create(C,{parent:{value:z}}),z}function ho(C,R,U){let q=v(C.endRe,U);if(q){if(C["on:end"]){const ge=new e(C);C["on:end"](R,ge),ge.isMatchIgnored&&(q=!1)}if(q){for(;C.endsParent&&C.parent;)C=C.parent;return C}}if(C.endsWithParent)return ho(C.parent,R,U)}function Uf(C){return z.matcher.regexIndex===0?(X+=C[0],1):(ci=!0,0)}function jf(C){const R=C[0],U=C.rule,q=new e(U),ge=[U.__beforeBegin,U["on:begin"]];for(const Ye of ge)if(Ye&&(Ye(C,q),q.isMatchIgnored))return Uf(R);return U.skip?X+=R:(U.excludeBegin&&(X+=R),ve(),!U.returnBegin&&!U.excludeBegin&&(X=R)),po(U,C),U.returnBegin?0:R.length}function Hf(C){const R=C[0],U=D.substring(C.index),q=ho(z,C,U);if(!q)return oo;const ge=z;z.endScope&&z.endScope._wrap?(ve(),We(R,z.endScope._wrap)):z.endScope&&z.endScope._multi?(ve(),fo(z.endScope,C)):ge.skip?X+=R:(ge.returnEnd||ge.excludeEnd||(X+=R),ve(),ge.excludeEnd&&(X=R));do z.scope&&he.closeNode(),!z.skip&&!z.subLanguage&&(Yn+=z.relevance),z=z.parent;while(z!==q.parent);return q.starts&&po(q.starts,C),ge.returnEnd?0:R.length}function Wf(){const C=[];for(let R=z;R!==Ke;R=R.parent)R.scope&&C.unshift(R.scope);C.forEach(R=>he.openNode(R))}let Zn={};function mo(C,R){const U=R&&R[0];if(X+=C,U==null)return ve(),0;if(Zn.type==="begin"&&R.type==="end"&&Zn.index===R.index&&U===""){if(X+=D.slice(R.index,R.index+1),!ne){const q=new Error(`0 width match regex (${_})`);throw q.languageName=_,q.badRule=Zn.rule,q}return 1}if(Zn=R,R.type==="begin")return jf(R);if(R.type==="illegal"&&!H){const q=new Error('Illegal lexeme "'+U+'" for mode "'+(z.scope||"<unnamed>")+'"');throw q.mode=z,q}else if(R.type==="end"){const q=Hf(R);if(q!==oo)return q}if(R.type==="illegal"&&U==="")return X+=`
`,1;if(li>1e5&&li>R.index*3)throw new Error("potential infinite loop, way more iterations than matches");return X+=U,U.length}const Ke=st(_);if(!Ke)throw xt(re.replace("{}",_)),new Error('Unknown language: "'+_+'"');const Kf=vf(Ke);let ai="",z=G||Kf;const go={},he=new O.__emitter(O);Wf();let X="",Yn=0,Et=0,li=0,ci=!1;try{if(Ke.__emitTokens)Ke.__emitTokens(D,he);else{for(z.matcher.considerAll();;){li++,ci?ci=!1:z.matcher.considerAll(),z.matcher.lastIndex=Et;const C=z.matcher.exec(D);if(!C)break;const R=D.substring(Et,C.index),U=mo(R,C);Et=C.index+U}mo(D.substring(Et))}return he.finalize(),ai=he.toHTML(),{language:_,value:ai,relevance:Yn,illegal:!1,_emitter:he,_top:z}}catch(C){if(C.message&&C.message.includes("Illegal"))return{language:_,value:ri(D),illegal:!0,relevance:0,_illegalBy:{message:C.message,index:Et,context:D.slice(Et-100,Et+100),mode:C.mode,resultSoFar:ai},_emitter:he};if(ne)return{language:_,value:ri(D),illegal:!1,relevance:0,errorRaised:C,_emitter:he,_top:z};throw C}}function ii(_){const D={value:ri(_),illegal:!1,relevance:0,_top:M,_emitter:new O.__emitter(O)};return D._emitter.addText(_),D}function si(_,D){D=D||O.languages||Object.keys(E);const H=ii(_),G=D.filter(st).filter(uo).map(ve=>mn(ve,_,!1));G.unshift(H);const le=G.sort((ve,We)=>{if(ve.relevance!==We.relevance)return We.relevance-ve.relevance;if(ve.language&&We.language){if(st(ve.language).supersetOf===We.language)return 1;if(st(We.language).supersetOf===ve.language)return-1}return 0}),[Be,ot]=le,Xn=Be;return Xn.secondBest=ot,Xn}function Mf(_,D,H){const G=D&&k[D]||H;_.classList.add("hljs"),_.classList.add(`language-${G}`)}function oi(_){let D=null;const H=ue(_);if(B(H))return;if(Gn("before:highlightElement",{el:_,language:H}),_.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",_);return}if(_.children.length>0&&(O.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(_)),O.throwUnescapedHTML))throw new Of("One of your code blocks includes unescaped HTML.",_.innerHTML);D=_;const G=D.textContent,le=H?se(G,{language:H,ignoreIllegals:!0}):si(G);_.innerHTML=le.value,_.dataset.highlighted="yes",Mf(_,H,le.language),_.result={language:le.language,re:le.relevance,relevance:le.relevance},le.secondBest&&(_.secondBest={language:le.secondBest.language,relevance:le.secondBest.relevance}),Gn("after:highlightElement",{el:_,result:le,text:G})}function Nf(_){O=so(O,_)}const Rf=()=>{Vn(),qt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function If(){Vn(),qt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let lo=!1;function Vn(){function _(){Vn()}if(document.readyState==="loading"){lo||window.addEventListener("DOMContentLoaded",_,!1),lo=!0;return}document.querySelectorAll(O.cssSelector).forEach(oi)}function Df(_,D){let H=null;try{H=D(g)}catch(G){if(xt("Language definition for '{}' could not be registered.".replace("{}",_)),ne)xt(G);else throw G;H=M}H.name||(H.name=_),E[_]=H,H.rawDefinition=D.bind(null,g),H.aliases&&co(H.aliases,{languageName:_})}function Pf(_){delete E[_];for(const D of Object.keys(k))k[D]===_&&delete k[D]}function Lf(){return Object.keys(E)}function st(_){return _=(_||"").toLowerCase(),E[_]||E[k[_]]}function co(_,{languageName:D}){typeof _=="string"&&(_=[_]),_.forEach(H=>{k[H.toLowerCase()]=D})}function uo(_){const D=st(_);return D&&!D.disableAutodetect}function Bf(_){_["before:highlightBlock"]&&!_["before:highlightElement"]&&(_["before:highlightElement"]=D=>{_["before:highlightBlock"](Object.assign({block:D.el},D))}),_["after:highlightBlock"]&&!_["after:highlightElement"]&&(_["after:highlightElement"]=D=>{_["after:highlightBlock"](Object.assign({block:D.el},D))})}function Ff(_){Bf(_),F.push(_)}function zf(_){const D=F.indexOf(_);D!==-1&&F.splice(D,1)}function Gn(_,D){const H=_;F.forEach(function(G){G[H]&&G[H](D)})}function $f(_){return qt("10.7.0","highlightBlock will be removed entirely in v12.0"),qt("10.7.0","Please use highlightElement now."),oi(_)}Object.assign(g,{highlight:se,highlightAuto:si,highlightAll:Vn,highlightElement:oi,highlightBlock:$f,configure:Nf,initHighlighting:Rf,initHighlightingOnLoad:If,registerLanguage:Df,unregisterLanguage:Pf,listLanguages:Lf,getLanguage:st,registerAliases:co,autoDetection:uo,inherit:so,addPlugin:Ff,removePlugin:zf}),g.debugMode=function(){ne=!1},g.safeMode=function(){ne=!0},g.versionString=Tf,g.regex={concat:b,lookahead:d,either:x,optional:h,anyNumberOfTimes:p};for(const _ in qn)typeof qn[_]=="object"&&t(qn[_]);return Object.assign(g,qn),g},Jt=ao({});return Jt.newInstance=()=>ao({}),ki=Jt,Jt.HighlightJS=Jt,Jt.default=Jt,ki}var gb=mb();const Fc=hb(gb);function zc(t,e=[]){return t.map(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?zc(n.children,r):{text:n.value,classes:r}}).flat()}function ba(t){return t.value||t.children||[]}function bb(t){return!!Fc.getLanguage(t)}function ya({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return qi(t,s=>s.type.name===e).forEach(s=>{var o;let a=s.pos+1;const l=s.node.attrs.language||r,c=n.listLanguages(),u=l&&(c.includes(l)||bb(l)||(o=n.registered)!=null&&o.call(n,l))?ba(n.highlight(l,s.node.textContent)):ba(n.highlightAuto(s.node.textContent));zc(u).forEach(f=>{const d=a+f.text.length;if(f.classes.length){const p=Ve.inline(a,d,{class:f.classes.join(" ")});i.push(p)}a=d})}),fe.create(t,i)}function yb(t){return typeof t=="function"}function xb({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>yb(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new tt({key:new nt("lowlight"),state:{init:(i,{doc:s})=>ya({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(i,s,o,a)=>{const l=o.selection.$head.parent.type.name,c=a.selection.$head.parent.type.name,u=qi(o.doc,d=>d.type.name===t),f=qi(a.doc,d=>d.type.name===t);return i.docChanged&&([l,c].includes(t)||f.length!==u.length||i.steps.some(d=>d.from!==void 0&&d.to!==void 0&&u.some(p=>p.pos>=d.from&&p.pos+p.node.nodeSize<=d.to)))?ya({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var Eb=pb.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],xb({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),wb=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,_b=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,$c=t=>t.match(wb),xa=(t,e)=>e?"https://www.youtube-nocookie.com/embed/videoseries?list=":t?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",Sb=t=>{const{url:e,allowFullscreen:n,autoplay:r,ccLanguage:i,ccLoadPolicy:s,controls:o,disableKBcontrols:a,enableIFrameApi:l,endTime:c,interfaceLanguage:u,ivLoadPolicy:f,loop:d,modestBranding:p,nocookie:h,origin:b,playlist:m,progressBarColor:x,startAt:S,rel:v}=t;if(!$c(e))return null;if(e.includes("/embed/"))return e;if(e.includes("youtu.be")){const K=e.split("/").pop();return K?`${xa(h)}${K}`:null}const N=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(e);if(!N||!N[2])return null;let L=`${xa(h,N[1]==="list")}${N[2]}`;const I=[];return n===!1&&I.push("fs=0"),r&&I.push("autoplay=1"),i&&I.push(`cc_lang_pref=${i}`),s&&I.push("cc_load_policy=1"),o||I.push("controls=0"),a&&I.push("disablekb=1"),l&&I.push("enablejsapi=1"),c&&I.push(`end=${c}`),u&&I.push(`hl=${u}`),f&&I.push(`iv_load_policy=${f}`),d&&I.push("loop=1"),p&&I.push("modestbranding=1"),b&&I.push(`origin=${b}`),m&&I.push(`playlist=${m}`),S&&I.push(`start=${S}`),x&&I.push(`color=${x}`),v!==void 0&&I.push(`rel=${v}`),I.length&&(L+=`${N[1]==="v"?"?":"&"}${I.join("&")}`),L},kb=Lc.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:t=>({commands:e})=>$c(t.src)?e.insertContent({type:this.name,attrs:t}):!1}},addPasteRules(){return this.options.addPasteHandler?[cb({find:_b,type:this.type,getAttributes:t=>({src:t.input})})]:[]},renderHTML({HTMLAttributes:t}){const e=Sb({url:t.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:t.start||0,rel:this.options.rel});return t.src=e,["div",{"data-youtube-video":""},["iframe",kc(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},t)]]}});const vb=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Cb=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Tb=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ob=[...Cb,...Tb],Ab=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Mb=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Nb=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Rb=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Ib(t){const e=t.regex,n=vb(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Mb.join("|")+")"},{begin:":(:)?("+Nb.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Rb.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Ab.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ob.join("|")+")\\b"}]}}var Zt="[0-9](_*[0-9])*",sr=`\\.(${Zt})`,or="[0-9a-fA-F](_*[0-9a-fA-F])*",Ea={className:"number",variants:[{begin:`(\\b(${Zt})((${sr})|\\.)?|(${sr}))[eE][+-]?(${Zt})[fFdD]?\\b`},{begin:`\\b(${Zt})((${sr})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${sr})[fFdD]?\\b`},{begin:`\\b(${Zt})[fFdD]\\b`},{begin:`\\b0[xX]((${or})\\.?|(${or})?\\.(${or}))[pP][+-]?(${Zt})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${or})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Uc(t,e,n){return n===-1?"":t.replace(e,r=>Uc(t,e,n-1))}function Db(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+Uc("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,Ea,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},Ea,c]}}const wa="[A-Za-z$_][0-9A-Za-z$_]*",Pb=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Lb=["true","false","null","undefined","NaN","Infinity"],jc=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Hc=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Wc=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Bb=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Fb=[].concat(Wc,jc,Hc);function Kc(t){const e=t.regex,n=(V,{after:Le})=>{const Ze="</"+V[0].slice(1);return V.input.indexOf(Ze,Le)!==-1},r=wa,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(V,Le)=>{const Ze=V[0].length+V.index,Ee=V.input[Ze];if(Ee==="<"||Ee===","){Le.ignoreMatch();return}Ee===">"&&(n(V,{after:Ze})||Le.ignoreMatch());let Re;const it=V.input.substring(Ze);if(Re=it.match(/^\s*=/)){Le.ignoreMatch();return}if((Re=it.match(/^\s+extends\s+/))&&Re.index===0){Le.ignoreMatch();return}}},a={$pattern:wa,keyword:Pb,literal:Lb,built_in:Fb,"variable.language":Bb},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},b={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},S={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},v=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,h,b,m,{match:/\$\d+/},f];d.contains=v.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(v)});const A=[].concat(S,d.contains),N=A.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(A)}]),L={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:N},I={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},K={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...jc,...Hc]}},Q={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Me={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[L],illegal:/%/},He={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Pe(V){return e.concat("(?!",V.join("|"),")")}const Ne={match:e.concat(/\b/,Pe([...Wc,"super","import"].map(V=>`${V}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},Y={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ce={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},L]},te="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",Wt={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(te)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[L]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:K},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),Q,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,h,b,m,S,{match:/\$\d+/},f,K,{scope:"attr",match:r+e.lookahead(":"),relevance:0},Wt,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,t.REGEXP_MODE,{className:"function",begin:te,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},Me,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[L,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},Y,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[L]},Ne,He,I,ce,{match:/\$[(.]/}]}}function zb(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function $b(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),u=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(Y,ce)=>{ce.data._beginMatch=Y[1]||Y[2]},"on:end":(Y,ce)=>{ce.data._beginMatch!==Y[1]&&ce.ignoreMatch()}},d=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,h={scope:"string",variants:[u,c,f,d]},b={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},m=["false","null","true"],x=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],S=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],A={keyword:x,literal:(Y=>{const ce=[];return Y.forEach(te=>{ce.push(te),te.toLowerCase()===te?ce.push(te.toUpperCase()):ce.push(te.toLowerCase())}),ce})(m),built_in:S},N=Y=>Y.map(ce=>ce.replace(/\|\d+$/,"")),L={variants:[{match:[/new/,e.concat(p,"+"),e.concat("(?!",N(S).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},I=e.concat(r,"\\b(?!\\()"),K={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),I],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),I],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},Q={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},Me={relevance:0,begin:/\(/,end:/\)/,keywords:A,contains:[Q,o,K,t.C_BLOCK_COMMENT_MODE,h,b,L]},He={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",N(x).join("\\b|"),"|",N(S).join("\\b|"),"\\b)"),r,e.concat(p,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Me]};Me.contains.push(He);const Pe=[Q,K,t.C_BLOCK_COMMENT_MODE,h,b,L],Ne={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:m,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:m,keyword:["new","array"]},contains:["self",...Pe]},...Pe,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:A,contains:[Ne,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},o,He,K,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},L,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:A,contains:["self",Ne,o,K,t.C_BLOCK_COMMENT_MODE,h,b]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},h,b]}}function qc(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},u={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,u,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",p=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,h=`\\b|${r.join("|")}`,b={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${p}))[eE][+-]?(${d})[jJ]?(?=${h})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${h})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${h})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${h})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${h})`},{begin:`\\b(${d})[jJ](?=${h})`}]},m={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},x={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,b,f,t.HASH_COMMENT_MODE]}]};return c.contains=[f,b,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,b,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,m,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[x]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[b,x,f]}]}}function Ub(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=u,h=[...c,...l].filter(N=>!u.includes(N)),b={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},m={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},x={match:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function S(N){return e.concat(/\b/,e.either(...N.map(L=>L.replace(/\s+/,"\\s+"))),/\b/)}const v={scope:"keyword",match:S(d),relevance:0};function A(N,{exceptions:L,when:I}={}){const K=I;return L=L||[],N.map(Q=>Q.match(/\|\d+$/)||L.includes(Q)?Q:K(Q)?`${Q}|0`:Q)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:A(h,{when:N=>N.length<3}),literal:s,type:a,built_in:f},contains:[{scope:"type",match:S(o)},v,x,b,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,m]}}function Jc(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const _a={},jb="hljs-";function Hb(t){const e=Fc.newInstance();return{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:a};function n(l,c,u){const f=u||_a,d=typeof f.prefix=="string"?f.prefix:jb;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:Wb,classPrefix:d});const p=e.highlight(c,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const h=p._emitter.root,b=h.data;return b.language=p.language,b.relevance=p.relevance,h}function r(l,c){const f=(c||_a).subset||i();let d=-1,p=0,h;for(;++d<f.length;){const b=f[d];if(!e.getLanguage(b))continue;const m=n(b,l,c);m.data&&m.data.relevance!==void 0&&m.data.relevance>p&&(p=m.data.relevance,h=m)}return h||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return e.listLanguages()}function s(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&e.registerLanguage(u,l[u])}}function o(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const f=l[u];e.registerAliases(typeof f=="string"?f:[...f],{languageName:u})}}}function a(l){return!!e.getLanguage(l)}}class Wb{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(o,a){return a?o+"_".repeat(a):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Ae=Hb();Ae.register("javascript",Kc);Ae.register("js",Kc);Ae.register("php",$b);Ae.register("python",qc);Ae.register("py",qc);Ae.register("java",Db);Ae.register("css",Ib);Ae.register("html",Jc);Ae.register("xml",Jc);Ae.register("sql",Ub);Ae.register("json",zb);const Ir=()=>{window.filamentData&&window.filamentData.tiptapExtensions&&window.filamentData.tiptapExtensions.push(Eb.configure({lowlight:Ae,defaultLanguage:"javascript",languageClassPrefix:"language-"}),kb.configure({controls:!0,nocookie:!0,width:640,height:360,HTMLAttributes:{class:"youtube-embed"}}))};document.addEventListener("DOMContentLoaded",Ir);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ir):Ir();window.configureTipTapExtensions=Ir;window.tiptapLowlight=Ae;var Ji=!1,Vi=!1,Rt=[],Gi=-1;function Kb(t){qb(t)}function qb(t){Rt.includes(t)||Rt.push(t),Vb()}function Jb(t){let e=Rt.indexOf(t);e!==-1&&e>Gi&&Rt.splice(e,1)}function Vb(){!Vi&&!Ji&&(Ji=!0,queueMicrotask(Gb))}function Gb(){Ji=!1,Vi=!0;for(let t=0;t<Rt.length;t++)Rt[t](),Gi=t;Rt.length=0,Gi=-1,Vi=!1}var un,Ht,fn,Vc,Xi=!0;function Xb(t){Xi=!1,t(),Xi=!0}function Zb(t){un=t.reactive,fn=t.release,Ht=e=>t.effect(e,{scheduler:n=>{Xi?Kb(n):n()}}),Vc=t.raw}function Sa(t){Ht=t}function Yb(t){let e=()=>{};return[r=>{let i=Ht(r);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),fn(i))},i},()=>{e()}]}function Gc(t,e){let n=!0,r,i=Ht(()=>{let s=t();JSON.stringify(s),n?r=s:queueMicrotask(()=>{e(s,r),r=s}),n=!1});return()=>fn(i)}var Xc=[],Zc=[],Yc=[];function Qb(t){Yc.push(t)}function Is(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,Zc.push(e))}function Qc(t){Xc.push(t)}function eu(t,e,n){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(n)}function tu(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([n,r])=>{(e===void 0||e.includes(n))&&(r.forEach(i=>i()),delete t._x_attributeCleanups[n])})}function ey(t){var e,n;for((e=t._x_effects)==null||e.forEach(Jb);(n=t._x_cleanups)!=null&&n.length;)t._x_cleanups.pop()()}var Ds=new MutationObserver(Fs),Ps=!1;function Ls(){Ds.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Ps=!0}function nu(){ty(),Ds.disconnect(),Ps=!1}var bn=[];function ty(){let t=Ds.takeRecords();bn.push(()=>t.length>0&&Fs(t));let e=bn.length;queueMicrotask(()=>{if(bn.length===e)for(;bn.length>0;)bn.shift()()})}function ee(t){if(!Ps)return t();nu();let e=t();return Ls(),e}var Bs=!1,Dr=[];function ny(){Bs=!0}function ry(){Bs=!1,Fs(Dr),Dr=[]}function Fs(t){if(Bs){Dr=Dr.concat(t);return}let e=[],n=new Set,r=new Map,i=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&n.add(o)}),t[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(n.has(o)){n.delete(o);return}o._x_marker||e.push(o)}})),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,l=t[s].oldValue,c=()=>{r.has(o)||r.set(o,[]),r.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{i.has(o)||i.set(o,[]),i.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(u(),c()):u()}i.forEach((s,o)=>{tu(o,s)}),r.forEach((s,o)=>{Xc.forEach(a=>a(o,s))});for(let s of n)e.some(o=>o.contains(s))||Zc.forEach(o=>o(s));for(let s of e)s.isConnected&&Yc.forEach(o=>o(s));e=null,n=null,r=null,i=null}function ru(t){return Hn(sn(t))}function jn(t,e,n){return t._x_dataStack=[e,...sn(n||t)],()=>{t._x_dataStack=t._x_dataStack.filter(r=>r!==e)}}function sn(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?sn(t.host):t.parentNode?sn(t.parentNode):[]}function Hn(t){return new Proxy({objects:t},iy)}var iy={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(n=>Object.prototype.hasOwnProperty.call(n,e)||Reflect.has(n,e))},get({objects:t},e,n){return e=="toJSON"?sy:Reflect.get(t.find(r=>Reflect.has(r,e))||{},e,n)},set({objects:t},e,n,r){const i=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(i,e);return s!=null&&s.set&&(s!=null&&s.get)?s.set.call(r,n)||!0:Reflect.set(i,e,n)}};function sy(){return Reflect.ownKeys(this).reduce((e,n)=>(e[n]=Reflect.get(this,n),e),{})}function iu(t){let e=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let l=i===""?s:`${i}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?r[s]=o.initialize(t,l,s):e(o)&&o!==r&&!(o instanceof Element)&&n(o,l)})};return n(t)}function su(t,e=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,i,s){return t(this.initialValue,()=>oy(r,i),o=>Zi(r,i,o),i,s)}};return e(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let i=n.initialize.bind(n);n.initialize=(s,o,a)=>{let l=r.initialize(s,o,a);return n.initialValue=l,i(s,o,a)}}else n.initialValue=r;return n}}function oy(t,e){return e.split(".").reduce((n,r)=>n[r],t)}function Zi(t,e,n){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=n;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Zi(t[e[0]],e.slice(1),n)}}var ou={};function je(t,e){ou[t]=e}function Yi(t,e){let n=ay(e);return Object.entries(ou).forEach(([r,i])=>{Object.defineProperty(t,`$${r}`,{get(){return i(e,n)},enumerable:!1})}),t}function ay(t){let[e,n]=du(t),r={interceptor:su,...e};return Is(t,n),r}function ly(t,e,n,...r){try{return n(...r)}catch(i){Pn(i,t,e)}}function Pn(t,e,n=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:n}),console.warn(`Alpine Expression Error: ${t.message}

${n?'Expression: "'+n+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var yr=!0;function au(t){let e=yr;yr=!1;let n=t();return yr=e,n}function It(t,e,n={}){let r;return _e(t,e)(i=>r=i,n),r}function _e(...t){return lu(...t)}var lu=cu;function cy(t){lu=t}function cu(t,e){let n={};Yi(n,t);let r=[n,...sn(t)],i=typeof e=="function"?uy(r,e):dy(r,e,t);return ly.bind(null,t,e,i)}function uy(t,e){return(n=()=>{},{scope:r={},params:i=[],context:s}={})=>{let o=e.apply(Hn([r,...t]),i);Pr(n,o)}}var vi={};function fy(t,e){if(vi[t])return vi[t];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return Pn(o,e,t),Promise.resolve()}})();return vi[t]=s,s}function dy(t,e,n){let r=fy(e,n);return(i=()=>{},{scope:s={},params:o=[],context:a}={})=>{r.result=void 0,r.finished=!1;let l=Hn([s,...t]);if(typeof r=="function"){let c=r.call(a,r,l).catch(u=>Pn(u,n,e));r.finished?(Pr(i,r.result,l,o,n),r.result=void 0):c.then(u=>{Pr(i,u,l,o,n)}).catch(u=>Pn(u,n,e)).finally(()=>r.result=void 0)}}}function Pr(t,e,n,r,i){if(yr&&typeof e=="function"){let s=e.apply(n,r);s instanceof Promise?s.then(o=>Pr(t,o,n,r)).catch(o=>Pn(o,i,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var zs="x-";function dn(t=""){return zs+t}function py(t){zs=t}var Lr={};function ae(t,e){return Lr[t]=e,{before(n){if(!Lr[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${t}\` will use the default order of execution`);return}const r=vt.indexOf(n);vt.splice(r>=0?r:vt.indexOf("DEFAULT"),0,t)}}}function hy(t){return Object.keys(Lr).includes(t)}function $s(t,e,n){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=uu(s);s=s.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let r={};return e.map(mu((s,o)=>r[s]=o)).filter(bu).map(by(r,n)).sort(yy).map(s=>gy(t,s))}function uu(t){return Array.from(t).map(mu()).filter(e=>!bu(e))}var Qi=!1,_n=new Map,fu=Symbol();function my(t){Qi=!0;let e=Symbol();fu=e,_n.set(e,[]);let n=()=>{for(;_n.get(e).length;)_n.get(e).shift()();_n.delete(e)},r=()=>{Qi=!1,n()};t(n),r()}function du(t){let e=[],n=a=>e.push(a),[r,i]=Yb(t);return e.push(i),[{Alpine:Wn,effect:r,cleanup:n,evaluateLater:_e.bind(_e,t),evaluate:It.bind(It,t)},()=>e.forEach(a=>a())]}function gy(t,e){let n=()=>{},r=Lr[e.type]||n,[i,s]=du(t);eu(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(r.inline&&r.inline(t,e,i),r=r.bind(r,t,e,i),Qi?_n.get(fu).push(r):r())};return o.runCleanups=s,o}var pu=(t,e)=>({name:n,value:r})=>(n.startsWith(t)&&(n=n.replace(t,e)),{name:n,value:r}),hu=t=>t;function mu(t=()=>{}){return({name:e,value:n})=>{let{name:r,value:i}=gu.reduce((s,o)=>o(s),{name:e,value:n});return r!==e&&t(r,e),{name:r,value:i}}}var gu=[];function Us(t){gu.push(t)}function bu({name:t}){return yu().test(t)}var yu=()=>new RegExp(`^${zs}([^:^.]+)\\b`);function by(t,e){return({name:n,value:r})=>{let i=n.match(yu()),s=n.match(/:([a-zA-Z0-9\-_:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[n]||n;return{type:i?i[1]:null,value:s?s[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:r,original:a}}}var es="DEFAULT",vt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",es,"teleport"];function yy(t,e){let n=vt.indexOf(t.type)===-1?es:t.type,r=vt.indexOf(e.type)===-1?es:e.type;return vt.indexOf(n)-vt.indexOf(r)}function Cn(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function zt(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>zt(i,e));return}let n=!1;if(e(t,()=>n=!0),n)return;let r=t.firstElementChild;for(;r;)zt(r,e),r=r.nextElementSibling}function De(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var ka=!1;function xy(){ka&&De("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),ka=!0,document.body||De("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Cn(document,"alpine:init"),Cn(document,"alpine:initializing"),Ls(),Qb(e=>et(e,zt)),Is(e=>hn(e)),Qc((e,n)=>{$s(e,n).forEach(r=>r())});let t=e=>!Xr(e.parentElement,!0);Array.from(document.querySelectorAll(wu().join(","))).filter(t).forEach(e=>{et(e)}),Cn(document,"alpine:initialized"),setTimeout(()=>{Sy()})}var js=[],xu=[];function Eu(){return js.map(t=>t())}function wu(){return js.concat(xu).map(t=>t())}function _u(t){js.push(t)}function Su(t){xu.push(t)}function Xr(t,e=!1){return pn(t,n=>{if((e?wu():Eu()).some(i=>n.matches(i)))return!0})}function pn(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return pn(t.parentElement,e)}}function Ey(t){return Eu().some(e=>t.matches(e))}var ku=[];function wy(t){ku.push(t)}var _y=1;function et(t,e=zt,n=()=>{}){pn(t,r=>r._x_ignore)||my(()=>{e(t,(r,i)=>{r._x_marker||(n(r,i),ku.forEach(s=>s(r,i)),$s(r,r.attributes).forEach(s=>s()),r._x_ignore||(r._x_marker=_y++),r._x_ignore&&i())})})}function hn(t,e=zt){e(t,n=>{ey(n),tu(n),delete n._x_marker})}function Sy(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,n,r])=>{hy(n)||r.some(i=>{if(document.querySelector(i))return De(`found "${i}", but missing ${e} plugin`),!0})})}var ts=[],Hs=!1;function Ws(t=()=>{}){return queueMicrotask(()=>{Hs||setTimeout(()=>{ns()})}),new Promise(e=>{ts.push(()=>{t(),e()})})}function ns(){for(Hs=!1;ts.length;)ts.shift()()}function ky(){Hs=!0}function Ks(t,e){return Array.isArray(e)?va(t,e.join(" ")):typeof e=="object"&&e!==null?vy(t,e):typeof e=="function"?Ks(t,e()):va(t,e)}function va(t,e){let n=i=>i.split(" ").filter(s=>!t.classList.contains(s)).filter(Boolean),r=i=>(t.classList.add(...i),()=>{t.classList.remove(...i)});return e=e===!0?e="":e||"",r(n(e))}function vy(t,e){let n=a=>a.split(" ").filter(Boolean),r=Object.entries(e).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),s=[],o=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),r.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function Zr(t,e){return typeof e=="object"&&e!==null?Cy(t,e):Ty(t,e)}function Cy(t,e){let n={};return Object.entries(e).forEach(([r,i])=>{n[r]=t.style[r],r.startsWith("--")||(r=Oy(r)),t.style.setProperty(r,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Zr(t,n)}}function Ty(t,e){let n=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",n||"")}}function Oy(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rs(t,e=()=>{}){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}ae("transition",(t,{value:e,modifiers:n,expression:r},{evaluate:i})=>{typeof r=="function"&&(r=i(r)),r!==!1&&(!r||typeof r=="boolean"?My(t,n,e):Ay(t,r,e))});function Ay(t,e,n){vu(t,Ks,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[n](e)}function My(t,e,n){vu(t,Zr);let r=!e.includes("in")&&!e.includes("out")&&!n,i=r||e.includes("in")||["enter"].includes(n),s=r||e.includes("out")||["leave"].includes(n);e.includes("in")&&!r&&(e=e.filter((x,S)=>S<e.indexOf("out"))),e.includes("out")&&!r&&(e=e.filter((x,S)=>S>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),l=o||e.includes("scale"),c=a?0:1,u=l?yn(e,"scale",95)/100:1,f=yn(e,"delay",0)/1e3,d=yn(e,"origin","center"),p="opacity, transform",h=yn(e,"duration",150)/1e3,b=yn(e,"duration",75)/1e3,m="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:d,transitionDelay:`${f}s`,transitionProperty:p,transitionDuration:`${h}s`,transitionTimingFunction:m},t._x_transition.enter.start={opacity:c,transform:`scale(${u})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:d,transitionDelay:`${f}s`,transitionProperty:p,transitionDuration:`${b}s`,transitionTimingFunction:m},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function vu(t,e,n={}){t._x_transition||(t._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},i=()=>{}){is(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,i)},out(r=()=>{},i=()=>{}){is(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,n,r){const i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>i(n);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(n):s():t._x_transition?t._x_transition.in(n):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(r)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=Cu(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):i(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u==null?void 0:u());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(t).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Cu(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:Cu(e)}function is(t,e,{during:n,start:r,end:i}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(i).length===0){s(),o();return}let a,l,c;Ny(t,{start(){a=e(t,r)},during(){l=e(t,n)},before:s,end(){a(),c=e(t,i)},after:o,cleanup(){l(),c()}})}function Ny(t,e){let n,r,i,s=rs(()=>{ee(()=>{n=!0,r||e.before(),i||(e.end(),ns()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:rs(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},ee(()=>{e.start(),e.during()}),ky(),requestAnimationFrame(()=>{if(n)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),ee(()=>{e.before()}),r=!0,requestAnimationFrame(()=>{n||(ee(()=>{e.end()}),ns(),setTimeout(t._x_transitioning.finish,o+a),i=!0)})})}function yn(t,e,n){if(t.indexOf(e)===-1)return n;const r=t[t.indexOf(e)+1];if(!r||e==="scale"&&isNaN(r))return n;if(e==="duration"||e==="delay"){let i=r.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[r,t[t.indexOf(e)+2]].join(" "):r}var pt=!1;function yt(t,e=()=>{}){return(...n)=>pt?e(...n):t(...n)}function Ry(t){return(...e)=>pt&&t(...e)}var Tu=[];function Yr(t){Tu.push(t)}function Iy(t,e){Tu.forEach(n=>n(t,e)),pt=!0,Ou(()=>{et(e,(n,r)=>{r(n,()=>{})})}),pt=!1}var ss=!1;function Dy(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),pt=!0,ss=!0,Ou(()=>{Py(e)}),pt=!1,ss=!1}function Py(t){let e=!1;et(t,(r,i)=>{zt(r,(s,o)=>{if(e&&Ey(s))return o();e=!0,i(s,o)})})}function Ou(t){let e=Ht;Sa((n,r)=>{let i=e(n);return fn(i),()=>{}}),t(),Sa(e)}function Au(t,e,n,r=[]){switch(t._x_bindings||(t._x_bindings=un({})),t._x_bindings[e]=n,e=r.includes("camel")?Hy(e):e,e){case"value":Ly(t,n);break;case"style":Fy(t,n);break;case"class":By(t,n);break;case"selected":case"checked":zy(t,e,n);break;default:Mu(t,e,n);break}}function Ly(t,e){if(Iu(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=xr(t.value)===e:t.checked=Ca(t.value,e));else if(qs(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(n=>Ca(n,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")jy(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function By(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Ks(t,e)}function Fy(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Zr(t,e)}function zy(t,e,n){Mu(t,e,n),Uy(t,e,n)}function Mu(t,e,n){[null,void 0,!1].includes(n)&&Ky(e)?t.removeAttribute(e):(Nu(e)&&(n=e),$y(t,e,n))}function $y(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function Uy(t,e,n){t[e]!==n&&(t[e]=n)}function jy(t,e){const n=[].concat(e).map(r=>r+"");Array.from(t.options).forEach(r=>{r.selected=n.includes(r.value)})}function Hy(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Ca(t,e){return t==e}function xr(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var Wy=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Nu(t){return Wy.has(t)}function Ky(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function qy(t,e,n){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:Ru(t,e,n)}function Jy(t,e,n,r=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let i=t._x_inlineBindings[e];return i.extract=r,au(()=>It(t,i.expression))}return Ru(t,e,n)}function Ru(t,e,n){let r=t.getAttribute(e);return r===null?typeof n=="function"?n():n:r===""?!0:Nu(e)?!![e,"true"].includes(r):r}function qs(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function Iu(t){return t.type==="radio"||t.localName==="ui-radio"}function Du(t,e){let n;return function(){const r=this,i=arguments,s=function(){n=null,t.apply(r,i)};clearTimeout(n),n=setTimeout(s,e)}}function Pu(t,e){let n;return function(){let r=this,i=arguments;n||(t.apply(r,i),n=!0,setTimeout(()=>n=!1,e))}}function Lu({get:t,set:e},{get:n,set:r}){let i=!0,s,o=Ht(()=>{let a=t(),l=n();if(i)r(Ci(a)),i=!1;else{let c=JSON.stringify(a),u=JSON.stringify(l);c!==s?r(Ci(a)):c!==u&&e(Ci(l))}s=JSON.stringify(t()),JSON.stringify(n())});return()=>{fn(o)}}function Ci(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Vy(t){(Array.isArray(t)?t:[t]).forEach(n=>n(Wn))}var wt={},Ta=!1;function Gy(t,e){if(Ta||(wt=un(wt),Ta=!0),e===void 0)return wt[t];wt[t]=e,iu(wt[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&wt[t].init()}function Xy(){return wt}var Bu={};function Zy(t,e){let n=typeof e!="function"?()=>e:e;return t instanceof Element?Fu(t,n()):(Bu[t]=n,()=>{})}function Yy(t){return Object.entries(Bu).forEach(([e,n])=>{Object.defineProperty(t,e,{get(){return(...r)=>n(...r)}})}),t}function Fu(t,e,n){let r=[];for(;r.length;)r.pop()();let i=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=uu(i);return i=i.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),$s(t,i,n).map(o=>{r.push(o.runCleanups),o()}),()=>{for(;r.length;)r.pop()()}}var zu={};function Qy(t,e){zu[t]=e}function ex(t,e){return Object.entries(zu).forEach(([n,r])=>{Object.defineProperty(t,n,{get(){return(...i)=>r.bind(e)(...i)},enumerable:!1})}),t}var tx={get reactive(){return un},get release(){return fn},get effect(){return Ht},get raw(){return Vc},version:"3.15.0",flushAndStopDeferringMutations:ry,dontAutoEvaluateFunctions:au,disableEffectScheduling:Xb,startObservingMutations:Ls,stopObservingMutations:nu,setReactivityEngine:Zb,onAttributeRemoved:eu,onAttributesAdded:Qc,closestDataStack:sn,skipDuringClone:yt,onlyDuringClone:Ry,addRootSelector:_u,addInitSelector:Su,interceptClone:Yr,addScopeToNode:jn,deferMutations:ny,mapAttributes:Us,evaluateLater:_e,interceptInit:wy,setEvaluator:cy,mergeProxies:Hn,extractProp:Jy,findClosest:pn,onElRemoved:Is,closestRoot:Xr,destroyTree:hn,interceptor:su,transition:is,setStyles:Zr,mutateDom:ee,directive:ae,entangle:Lu,throttle:Pu,debounce:Du,evaluate:It,initTree:et,nextTick:Ws,prefixed:dn,prefix:py,plugin:Vy,magic:je,store:Gy,start:xy,clone:Dy,cloneNode:Iy,bound:qy,$data:ru,watch:Gc,walk:zt,data:Qy,bind:Zy},Wn=tx;function nx(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return i=>!!n[i]}var rx=Object.freeze({}),ix=Object.prototype.hasOwnProperty,Qr=(t,e)=>ix.call(t,e),Dt=Array.isArray,Tn=t=>$u(t)==="[object Map]",sx=t=>typeof t=="string",Js=t=>typeof t=="symbol",ei=t=>t!==null&&typeof t=="object",ox=Object.prototype.toString,$u=t=>ox.call(t),Uu=t=>$u(t).slice(8,-1),Vs=t=>sx(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ax=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lx=ax(t=>t.charAt(0).toUpperCase()+t.slice(1)),ju=(t,e)=>t!==e&&(t===t||e===e),as=new WeakMap,xn=[],Je,Pt=Symbol("iterate"),ls=Symbol("Map key iterate");function cx(t){return t&&t._isEffect===!0}function ux(t,e=rx){cx(t)&&(t=t.raw);const n=px(t,e);return e.lazy||n(),n}function fx(t){t.active&&(Hu(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var dx=0;function px(t,e){const n=function(){if(!n.active)return t();if(!xn.includes(n)){Hu(n);try{return mx(),xn.push(n),Je=n,t()}finally{xn.pop(),Wu(),Je=xn[xn.length-1]}}};return n.id=dx++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function Hu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}var on=!0,Gs=[];function hx(){Gs.push(on),on=!1}function mx(){Gs.push(on),on=!0}function Wu(){const t=Gs.pop();on=t===void 0?!0:t}function ze(t,e,n){if(!on||Je===void 0)return;let r=as.get(t);r||as.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Je)||(i.add(Je),Je.deps.push(i),Je.options.onTrack&&Je.options.onTrack({effect:Je,target:t,type:e,key:n}))}function ht(t,e,n,r,i,s){const o=as.get(t);if(!o)return;const a=new Set,l=u=>{u&&u.forEach(f=>{(f!==Je||f.allowRecurse)&&a.add(f)})};if(e==="clear")o.forEach(l);else if(n==="length"&&Dt(t))o.forEach((u,f)=>{(f==="length"||f>=r)&&l(u)});else switch(n!==void 0&&l(o.get(n)),e){case"add":Dt(t)?Vs(n)&&l(o.get("length")):(l(o.get(Pt)),Tn(t)&&l(o.get(ls)));break;case"delete":Dt(t)||(l(o.get(Pt)),Tn(t)&&l(o.get(ls)));break;case"set":Tn(t)&&l(o.get(Pt));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:t,key:n,type:e,newValue:r,oldValue:i,oldTarget:s}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var gx=nx("__proto__,__v_isRef,__isVue"),Ku=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Js)),bx=qu(),yx=qu(!0),Oa=xx();function xx(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Z(this);for(let s=0,o=this.length;s<o;s++)ze(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Z)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){hx();const r=Z(this)[e].apply(this,n);return Wu(),r}}),t}function qu(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&s===(t?e?Ix:Xu:e?Rx:Gu).get(r))return r;const o=Dt(r);if(!t&&o&&Qr(Oa,i))return Reflect.get(Oa,i,s);const a=Reflect.get(r,i,s);return(Js(i)?Ku.has(i):gx(i))||(t||ze(r,"get",i),e)?a:cs(a)?!o||!Vs(i)?a.value:a:ei(a)?t?Zu(a):Qs(a):a}}var Ex=wx();function wx(t=!1){return function(n,r,i,s){let o=n[r];if(!t&&(i=Z(i),o=Z(o),!Dt(n)&&cs(o)&&!cs(i)))return o.value=i,!0;const a=Dt(n)&&Vs(r)?Number(r)<n.length:Qr(n,r),l=Reflect.set(n,r,i,s);return n===Z(s)&&(a?ju(i,o)&&ht(n,"set",r,i,o):ht(n,"add",r,i)),l}}function _x(t,e){const n=Qr(t,e),r=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&ht(t,"delete",e,void 0,r),i}function Sx(t,e){const n=Reflect.has(t,e);return(!Js(e)||!Ku.has(e))&&ze(t,"has",e),n}function kx(t){return ze(t,"iterate",Dt(t)?"length":Pt),Reflect.ownKeys(t)}var vx={get:bx,set:Ex,deleteProperty:_x,has:Sx,ownKeys:kx},Cx={get:yx,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Xs=t=>ei(t)?Qs(t):t,Zs=t=>ei(t)?Zu(t):t,Ys=t=>t,ti=t=>Reflect.getPrototypeOf(t);function ar(t,e,n=!1,r=!1){t=t.__v_raw;const i=Z(t),s=Z(e);e!==s&&!n&&ze(i,"get",e),!n&&ze(i,"get",s);const{has:o}=ti(i),a=r?Ys:n?Zs:Xs;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function lr(t,e=!1){const n=this.__v_raw,r=Z(n),i=Z(t);return t!==i&&!e&&ze(r,"has",t),!e&&ze(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function cr(t,e=!1){return t=t.__v_raw,!e&&ze(Z(t),"iterate",Pt),Reflect.get(t,"size",t)}function Aa(t){t=Z(t);const e=Z(this);return ti(e).has.call(e,t)||(e.add(t),ht(e,"add",t,t)),this}function Ma(t,e){e=Z(e);const n=Z(this),{has:r,get:i}=ti(n);let s=r.call(n,t);s?Vu(n,r,t):(t=Z(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ju(e,o)&&ht(n,"set",t,e,o):ht(n,"add",t,e),this}function Na(t){const e=Z(this),{has:n,get:r}=ti(e);let i=n.call(e,t);i?Vu(e,n,t):(t=Z(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,o=e.delete(t);return i&&ht(e,"delete",t,void 0,s),o}function Ra(){const t=Z(this),e=t.size!==0,n=Tn(t)?new Map(t):new Set(t),r=t.clear();return e&&ht(t,"clear",void 0,void 0,n),r}function ur(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Z(o),l=e?Ys:t?Zs:Xs;return!t&&ze(a,"iterate",Pt),o.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function fr(t,e,n){return function(...r){const i=this.__v_raw,s=Z(i),o=Tn(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Ys:e?Zs:Xs;return!e&&ze(s,"iterate",l?ls:Pt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function at(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${lx(t)} operation ${n}failed: target is readonly.`,Z(this))}return t==="delete"?!1:this}}function Tx(){const t={get(s){return ar(this,s)},get size(){return cr(this)},has:lr,add:Aa,set:Ma,delete:Na,clear:Ra,forEach:ur(!1,!1)},e={get(s){return ar(this,s,!1,!0)},get size(){return cr(this)},has:lr,add:Aa,set:Ma,delete:Na,clear:Ra,forEach:ur(!1,!0)},n={get(s){return ar(this,s,!0)},get size(){return cr(this,!0)},has(s){return lr.call(this,s,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:ur(!0,!1)},r={get(s){return ar(this,s,!0,!0)},get size(){return cr(this,!0)},has(s){return lr.call(this,s,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:ur(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=fr(s,!1,!1),n[s]=fr(s,!0,!1),e[s]=fr(s,!1,!0),r[s]=fr(s,!0,!0)}),[t,n,e,r]}var[Ox,Ax,xE,EE]=Tx();function Ju(t,e){const n=t?Ax:Ox;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Qr(n,i)&&i in r?n:r,i,s)}var Mx={get:Ju(!1)},Nx={get:Ju(!0)};function Vu(t,e,n){const r=Z(n);if(r!==n&&e.call(t,r)){const i=Uu(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Gu=new WeakMap,Rx=new WeakMap,Xu=new WeakMap,Ix=new WeakMap;function Dx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Px(t){return t.__v_skip||!Object.isExtensible(t)?0:Dx(Uu(t))}function Qs(t){return t&&t.__v_isReadonly?t:Yu(t,!1,vx,Mx,Gu)}function Zu(t){return Yu(t,!0,Cx,Nx,Xu)}function Yu(t,e,n,r,i){if(!ei(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Px(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Z(t){return t&&Z(t.__v_raw)||t}function cs(t){return!!(t&&t.__v_isRef===!0)}je("nextTick",()=>Ws);je("dispatch",t=>Cn.bind(Cn,t));je("watch",(t,{evaluateLater:e,cleanup:n})=>(r,i)=>{let s=e(r),a=Gc(()=>{let l;return s(c=>l=c),l},i);n(a)});je("store",Xy);je("data",t=>ru(t));je("root",t=>Xr(t));je("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Hn(Lx(t))),t._x_refs_proxy));function Lx(t){let e=[];return pn(t,n=>{n._x_refs&&e.push(n._x_refs)}),e}var Ti={};function Qu(t){return Ti[t]||(Ti[t]=0),++Ti[t]}function Bx(t,e){return pn(t,n=>{if(n._x_ids&&n._x_ids[e])return!0})}function Fx(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=Qu(e))}je("id",(t,{cleanup:e})=>(n,r=null)=>{let i=`${n}${r?`-${r}`:""}`;return zx(t,i,e,()=>{let s=Bx(t,n),o=s?s._x_ids[n]:Qu(n);return r?`${n}-${o}-${r}`:`${n}-${o}`})});Yr((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function zx(t,e,n,r){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let i=r();return t._x_id[e]=i,n(()=>{delete t._x_id[e]}),i}je("el",t=>t);ef("Focus","focus","focus");ef("Persist","persist","persist");function ef(t,e,n){je(e,r=>De(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}ae("modelable",(t,{expression:e},{effect:n,evaluateLater:r,cleanup:i})=>{let s=r(e),o=()=>{let u;return s(f=>u=f),u},a=r(`${e} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=o();l(c),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let u=t._x_model.get,f=t._x_model.set,d=Lu({get(){return u()},set(p){f(p)}},{get(){return o()},set(p){l(p)}});i(d)})});ae("teleport",(t,{modifiers:e,expression:n},{cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&De("x-teleport can only be used on a <template> tag",t);let i=Ia(n),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{s.addEventListener(a,l=>{l.stopPropagation(),t.dispatchEvent(new l.constructor(l.type,l))})}),jn(s,{},t);let o=(a,l,c)=>{c.includes("prepend")?l.parentNode.insertBefore(a,l):c.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};ee(()=>{o(s,i,e),yt(()=>{et(s)})()}),t._x_teleportPutBack=()=>{let a=Ia(n);ee(()=>{o(t._x_teleport,a,e)})},r(()=>ee(()=>{s.remove(),hn(s)}))});var $x=document.createElement("div");function Ia(t){let e=yt(()=>document.querySelector(t),()=>$x)();return e||De(`Cannot find x-teleport element for selector: "${t}"`),e}var tf=()=>{};tf.inline=(t,{modifiers:e},{cleanup:n})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,n(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};ae("ignore",tf);ae("effect",yt((t,{expression:e},{effect:n})=>{n(_e(t,e))}));function us(t,e,n,r){let i=t,s=l=>r(l),o={},a=(l,c)=>u=>c(l,u);if(n.includes("dot")&&(e=Ux(e)),n.includes("camel")&&(e=jx(e)),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",c=Br(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Du(s,c)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",c=Br(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Pu(s,c)}return n.includes("prevent")&&(s=a(s,(l,c)=>{c.preventDefault(),l(c)})),n.includes("stop")&&(s=a(s,(l,c)=>{c.stopPropagation(),l(c)})),n.includes("once")&&(s=a(s,(l,c)=>{l(c),i.removeEventListener(e,s,o)})),(n.includes("away")||n.includes("outside"))&&(i=document,s=a(s,(l,c)=>{t.contains(c.target)||c.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&l(c))})),n.includes("self")&&(s=a(s,(l,c)=>{c.target===t&&l(c)})),(Wx(e)||nf(e))&&(s=a(s,(l,c)=>{Kx(c,n)||l(c)})),i.addEventListener(e,s,o),()=>{i.removeEventListener(e,s,o)}}function Ux(t){return t.replace(/-/g,".")}function jx(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Br(t){return!Array.isArray(t)&&!isNaN(t)}function Hx(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Wx(t){return["keydown","keyup"].includes(t)}function nf(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function Kx(t,e){let n=e.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(s));if(n.includes("debounce")){let s=n.indexOf("debounce");n.splice(s,Br((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let s=n.indexOf("throttle");n.splice(s,Br((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&Da(t.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(s=>n.includes(s));return n=n.filter(s=>!i.includes(s)),!(i.length>0&&i.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===i.length&&(nf(t.type)||Da(t.key).includes(n[0])))}function Da(t){if(!t)return[];t=Hx(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(n=>{if(e[n]===t)return n}).filter(n=>n)}ae("model",(t,{modifiers:e,expression:n},{effect:r,cleanup:i})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=_e(s,n),a;typeof n=="string"?a=_e(s,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=_e(s,`${n()} = __placeholder`):a=()=>{};let l=()=>{let d;return o(p=>d=p),Pa(d)?d.get():d},c=d=>{let p;o(h=>p=h),Pa(p)?p.set(d):a(()=>{},{scope:{__placeholder:d}})};typeof n=="string"&&t.type==="radio"&&ee(()=>{t.hasAttribute("name")||t.setAttribute("name",n)});let u=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input",f=pt?()=>{}:us(t,u,e,d=>{c(Oi(t,e,d,l()))});if(e.includes("fill")&&([void 0,null,""].includes(l())||qs(t)&&Array.isArray(l())||t.tagName.toLowerCase()==="select"&&t.multiple)&&c(Oi(t,e,{target:t},l())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=f,i(()=>t._x_removeModelListeners.default()),t.form){let d=us(t.form,"reset",[],p=>{Ws(()=>t._x_model&&t._x_model.set(Oi(t,e,{target:t},l())))});i(()=>d())}t._x_model={get(){return l()},set(d){c(d)}},t._x_forceModelUpdate=d=>{d===void 0&&typeof n=="string"&&n.match(/\./)&&(d=""),window.fromModel=!0,ee(()=>Au(t,"value",d)),delete window.fromModel},r(()=>{let d=l();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(d)})});function Oi(t,e,n,r){return ee(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(qs(t))if(Array.isArray(r)){let i=null;return e.includes("number")?i=Ai(n.target.value):e.includes("boolean")?i=xr(n.target.value):i=n.target.value,n.target.checked?r.includes(i)?r:r.concat([i]):r.filter(s=>!qx(s,i))}else return n.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(i=>{let s=i.value||i.text;return Ai(s)}):e.includes("boolean")?Array.from(n.target.selectedOptions).map(i=>{let s=i.value||i.text;return xr(s)}):Array.from(n.target.selectedOptions).map(i=>i.value||i.text);{let i;return Iu(t)?n.target.checked?i=n.target.value:i=r:i=n.target.value,e.includes("number")?Ai(i):e.includes("boolean")?xr(i):e.includes("trim")?i.trim():i}}})}function Ai(t){let e=t?parseFloat(t):null;return Jx(e)?e:t}function qx(t,e){return t==e}function Jx(t){return!Array.isArray(t)&&!isNaN(t)}function Pa(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}ae("cloak",t=>queueMicrotask(()=>ee(()=>t.removeAttribute(dn("cloak")))));Su(()=>`[${dn("init")}]`);ae("init",yt((t,{expression:e},{evaluate:n})=>typeof e=="string"?!!e.trim()&&n(e,{},!1):n(e,{},!1)));ae("text",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(s=>{ee(()=>{t.textContent=s})})})});ae("html",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(s=>{ee(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,et(t),delete t._x_ignoreSelf})})})});Us(pu(":",hu(dn("bind:"))));var rf=(t,{value:e,modifiers:n,expression:r,original:i},{effect:s,cleanup:o})=>{if(!e){let l={};Yy(l),_e(t,r)(u=>{Fu(t,u,i)},{scope:l});return}if(e==="key")return Vx(t,r);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=_e(t,r);s(()=>a(l=>{l===void 0&&typeof r=="string"&&r.match(/\./)&&(l=""),ee(()=>Au(t,e,l,n))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};rf.inline=(t,{value:e,modifiers:n,expression:r})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:r,extract:!1})};ae("bind",rf);function Vx(t,e){t._x_keyExpression=e}_u(()=>`[${dn("data")}]`);ae("data",(t,{expression:e},{cleanup:n})=>{if(Gx(t))return;e=e===""?"{}":e;let r={};Yi(r,t);let i={};ex(i,r);let s=It(t,e,{scope:i});(s===void 0||s===!0)&&(s={}),Yi(s,t);let o=un(s);iu(o);let a=jn(t,o);o.init&&It(t,o.init),n(()=>{o.destroy&&It(t,o.destroy),a()})});Yr((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function Gx(t){return pt?ss?!0:t.hasAttribute("data-has-alpine-state"):!1}ae("show",(t,{modifiers:e,expression:n},{effect:r})=>{let i=_e(t,n);t._x_doHide||(t._x_doHide=()=>{ee(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{ee(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),l=rs(f=>f?o():s(),f=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,f,o,s):f?a():s()}),c,u=!0;r(()=>i(f=>{!u&&f===c||(e.includes("immediate")&&(f?a():s()),l(f),c=f,u=!1)}))});ae("for",(t,{expression:e},{effect:n,cleanup:r})=>{let i=Zx(e),s=_e(t,i.items),o=_e(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},n(()=>Xx(t,i,s,o)),r(()=>{Object.values(t._x_lookup).forEach(a=>ee(()=>{hn(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function Xx(t,e,n,r){let i=o=>typeof o=="object"&&!Array.isArray(o),s=t;n(o=>{Yx(o)&&o>=0&&(o=Array.from(Array(o).keys(),m=>m+1)),o===void 0&&(o=[]);let a=t._x_lookup,l=t._x_prevKeys,c=[],u=[];if(i(o))o=Object.entries(o).map(([m,x])=>{let S=La(e,x,m,o);r(v=>{u.includes(v)&&De("Duplicate key on x-for",t),u.push(v)},{scope:{index:m,...S}}),c.push(S)});else for(let m=0;m<o.length;m++){let x=La(e,o[m],m,o);r(S=>{u.includes(S)&&De("Duplicate key on x-for",t),u.push(S)},{scope:{index:m,...x}}),c.push(x)}let f=[],d=[],p=[],h=[];for(let m=0;m<l.length;m++){let x=l[m];u.indexOf(x)===-1&&p.push(x)}l=l.filter(m=>!p.includes(m));let b="template";for(let m=0;m<u.length;m++){let x=u[m],S=l.indexOf(x);if(S===-1)l.splice(m,0,x),f.push([b,m]);else if(S!==m){let v=l.splice(m,1)[0],A=l.splice(S-1,1)[0];l.splice(m,0,A),l.splice(S,0,v),d.push([v,A])}else h.push(x);b=x}for(let m=0;m<p.length;m++){let x=p[m];x in a&&(ee(()=>{hn(a[x]),a[x].remove()}),delete a[x])}for(let m=0;m<d.length;m++){let[x,S]=d[m],v=a[x],A=a[S],N=document.createElement("div");ee(()=>{A||De('x-for ":key" is undefined or invalid',s,S,a),A.after(N),v.after(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),N.before(v),v._x_currentIfEl&&v.after(v._x_currentIfEl),N.remove()}),A._x_refreshXForScope(c[u.indexOf(S)])}for(let m=0;m<f.length;m++){let[x,S]=f[m],v=x==="template"?s:a[x];v._x_currentIfEl&&(v=v._x_currentIfEl);let A=c[S],N=u[S],L=document.importNode(s.content,!0).firstElementChild,I=un(A);jn(L,I,s),L._x_refreshXForScope=K=>{Object.entries(K).forEach(([Q,Me])=>{I[Q]=Me})},ee(()=>{v.after(L),yt(()=>et(L))()}),typeof N=="object"&&De("x-for key cannot be an object, it must be a string or an integer",s),a[N]=L}for(let m=0;m<h.length;m++)a[h[m]]._x_refreshXForScope(c[u.indexOf(h[m])]);s._x_prevKeys=u})}function Zx(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(r);if(!i)return;let s={};s.items=i[2].trim();let o=i[1].replace(n,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function La(t,e,n,r){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{i[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{i[o]=e[o]}):i[t.item]=e,t.index&&(i[t.index]=n),t.collection&&(i[t.collection]=r),i}function Yx(t){return!Array.isArray(t)&&!isNaN(t)}function sf(){}sf.inline=(t,{expression:e},{cleanup:n})=>{let r=Xr(t);r._x_refs||(r._x_refs={}),r._x_refs[e]=t,n(()=>delete r._x_refs[e])};ae("ref",sf);ae("if",(t,{expression:e},{effect:n,cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&De("x-if can only be used on a <template> tag",t);let i=_e(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return jn(a,{},t),ee(()=>{t.after(a),yt(()=>et(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{ee(()=>{hn(a),a.remove()}),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};n(()=>i(a=>{a?s():o()})),r(()=>t._x_undoIf&&t._x_undoIf())});ae("id",(t,{expression:e},{evaluate:n})=>{n(e).forEach(i=>Fx(t,i))});Yr((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});Us(pu("@",hu(dn("on:"))));ae("on",yt((t,{value:e,modifiers:n,expression:r},{cleanup:i})=>{let s=r?_e(t,r):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=us(t,e,n,a=>{s(()=>{},{scope:{$event:a},params:[a]})});i(()=>o())}));ni("Collapse","collapse","collapse");ni("Intersect","intersect","intersect");ni("Focus","trap","focus");ni("Mask","mask","mask");function ni(t,e,n){ae(e,r=>De(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Wn.setEvaluator(cu);Wn.setReactivityEngine({reactive:Qs,effect:ux,release:fx,raw:Z});var Qx=Wn,of=Qx;window.Alpine=of;of.start();
